<html><head><title>VODataService (Proposed Recommendation)</title>

<style type="text/css">
    .issue {background-color: yellow}
    .postponedissue {background-color: yellow}
    .def code
    .future {background-color: pink}
    .draftedit {background-color: white}
    .draftdelete {background-color: white}
    .note { margin-left: 4em }
    code { font-weight: bold;
           font-family: monospace } 

div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
div.exampleInner { border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: white;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: white;
                   padding: 0px; margin: 0em }
div.exampleWrapper { margin: 4px }
div.exampleHeader { font-weight: bold;
                    margin: 4px}

div.schemaInner pre { margin-left: 1em;
                      margin-top: 0em; margin-bottom: 0em;
                       }
div.schemaOuter {border: 4px double gray; padding: 0em}
div.schemaInner { background-color: #eeeeee;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
div.schemaHeader { font-weight: bold;
                    margin: 4px}
</style>
<link href="http://www.ivoa.net/misc/ivoa_a.html" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://www.ivoa.net/misc/ivoa_pr.css" type="text/css">
<!--<link href="http://www.ivoa.net/misc/ivoa_wd.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="IVOA-WD.css" type="text/css" /> -->
</head>
<body bgcolor="white">

<div class="head">
<a href="http://www.ivoa.net/"><img alt="IVOA" src="http://www.ivoa.net/pub/images/IVOA_wb_300.jpg" height="169" width="300"></a>

<h1>VODataService: a VOResource Schema Extension for Describing
Collections and Services<br> 
Version 1.1</h1>

<h2>IVOA Proposed Recommendation 3 Sept 2009</h2>

<dl>
  <dt>This version:</dt>
  <dd><a href="http://www.ivoa.net/Documents/ReR/VODataService-20090903.html">
      http://www.ivoa.net/Documents/ReR/VODataService-20090903.html</a></dd>
  <dt>Latest version:</dt>
  <dd><a href="http://www.ivoa.net/Documents/latest/VODataService.html">
      http://www.ivoa.net/Documents/latest/VODataService.html</a></dd>

  <dt>Previous versions:</dt>
  <dd><a href="http://www.ivoa.net/Documents/ReR/VODataService-20090508.html">
      http://www.ivoa.net/Documents/ReR/VODataService-20090508.html</a></dd>
       
  <dt>Authors:</dt>
  <dd><a href="http://www.ivoa.net/twiki/bin/view/IVOA/RayPlante">
      Raymond Plante</a>, Editor<br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/AurelienStebe">
      Aur&eacute;lien St&eacute;b&eacute;</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/KevinBenson">
      Kevin Benson</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/PatrickDowler">
      Patrick Dowler</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/MatthewGraham">
      Matthew Graham</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/GretchenGreene">
      Gretchen Greene</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/PaulHarrison">
      Paul Harrison</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/GerardLemson">
      Gerard Lemson</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/TonyLinde">
      Tony Linde</a><br>
      <a href="http://www.ivoa.net/twiki/bin/view/IVOA/GuyRixon">
      Guy Rixon</a><br>
      and the IVOA Registry Working Group.
</dd></dl>

<hr>
</div>

<h2><a name="abstract" id="abstract">Abstract</a></h2>

VODataService refers to an XML encoding standard for a specialized
extension of the IVOA Resource Metadata that is useful for describing
data collections and the services that access them.  It is defined as
an extension the core resource metadata encoding standard known as
VOResource [<a href="#VOR">Plante et al. 2008</a>] using XML Schema.
The specialized resource types defined by the VODataService schema
allow one to describe how the data underlying the resource covers the
sky as well as frequency and time.  This coverage description
leverages heavily the Space-Time Coordinates (STC) standard schema
[<a href="#STC">Rots 2007</a>].  VODataService also enables detailed
descriptions of tables that includes information useful to the
discovery of tabular data.  It is intended that the VODataService data
types will be particularly useful in describing services that support
standard IVOA service protocols.  

<div class="status">
<h2><a name="status" id="status">Status of this document</a></h2>

<p>
This is an IVOA Proposed Recommendation available for public review by all 
interested parties.  Comments on this document should be made via the IVOA
Request For Comment (RFC) Twiki page,
<a href="http://www.ivoa.net/cgi-bin/twiki/bin/view/IVOA/VODataServiceV11RFC">
http://www.ivoa.net/cgi-bin/twiki/bin/view/IVOA/VODataServiceV11RFC</a>
or by via email to <code>registry</code> at <code>ivoa.net</code>.  The
deadline comments can be found on the <a href="http://www.ivoa.net/cgi-bin/twiki/bin/view/IVOA/VODataServiceV11RFC">RFC page</a>.  
</p>


<p>
A list of <a href="http://www.ivoa.net/Documents/">current IVOA
Recommendations and other technical documents</a> can be found at
http://www.ivoa.net/Documents/. </p>

<h2><a id="acknowledge" name="acknowledge">Acknowledgements</a></h2>

<p>This document has been developed with support from the
<a href="http://www.nsf.gov/">National Science Foundation's</a>
Information Technology Research Program under Cooperative Agreement
AST0122449 with The Johns Hopkins University, from the
<a href="http://www.pparc.ac.uk/">UK Particle Physics and Astronomy
Research Council (PPARC)</a>, and from the
<a href="http://fp6.cordis.lu/fp6/home.cfm">Eurpean Commission's Sixth
Framework Program</a> via the <a href="http://www.astro-opticon.org/">
Optical Infrared Coordination Network (OPTICON)</a>.  </p>

<a name="conf">
<h3>Conformance-related definitions</h3></a>

The words "MUST", "SHALL", "SHOULD", "MAY", "RECOMMENDED", and
"OPTIONAL" (in upper or lower case) used in this document are to be
interpreted as described in IETF standard, RFC 2119
<a href="#should">[RFC 2119]</a>.  <p>

The <a name="d:vo"><strong>Virtual Observatory (VO)</strong></a> is
general term for a collection of federated resources that can be used
to conduct astronomical research, education, and outreach.
<a name="d:ivoa">The</a> <a href="http://www.ivoa.net/"><strong>International
Virtual Observatory Alliance (IVOA)</strong></a> is a global
collaboration of separately funded projects to develop standards and
infrastructure that enable VO applications.

</p><p>
XML document <a name="d:valid"><strong>validation</strong></a> is a
software process that checks that an XML document is not only
well-formed XML but also conforms to the syntax rules defined by the
applicable schema.  Typically, when the schema is defined by one or more 
XML Schema [<a href="#schema">schema</a>] documents (see
<a href="#synnot">next section</a>), validation refers to checking for
conformance to the syntax described in those Schema documents.  This
document describes additional syntax constraints that cannot be
enforced solely by the rules of XML Schema; thus, in this document,
use of the term validation includes the extra checks that goes beyond
common Schema-aware parsers which ensure conformance with this
document.  
</p>

<a name="synnot">
<h3>Syntax Notation Using XML Schema</h3></a>

<p>The eXtensible Markup Language, or XML, is document syntax for marking
textual information with named tags and is defined by the
World Wide Web Consortium (W3C) Recommendation,
<a href="http://www.w3.org/TR/REC-xml">XML 1.0</a>
[<a href="#xml">XML</a>].  The set of XML tag names and the syntax
rules for their use is referred to as the document schema.  One way to
formally define a schema for XML documents is using the W3C standard
known as XML Schema [<a href="#schema">schema</a>].</p>

<p>
This document defines the VOResource schema using XML Schema.  The
full Schema document is listed in <a href="#appA">Appendix A</a>.
Parts of the schema appear within the main sections of this document;
however, documentation nodes have been left out for the sake of brevity.  
</p>

<p>
Reference to specific elements and types defined in the VOResource
schema include the namespaces prefix, <code>vr</code>, as in
<code>vr:Resource</code> (a type defined in the VOResource schema).
Reference to specific elements and types defined in the VODataService
extension schema include the namespaces prefix, <code>vs</code>, as in
<code>vs:DataCollection</code> (a type defined in the VODataService schema).
Use of the <code>vs</code> prefix in compliant instance documents is 
strongly recommended, particularly in the applications that involve
IVOA Registries (see [RI], section 3.1.2).  Elsewhere, the use is not
required.  
</p>

<h2><a id="contents" name="contents">Contents</a></h2>
<ul class="toc">
  <li><a href="#abstract">Abstract</a></li>
  <li><a href="#status">Status of this document</a></li>
  <li><a href="#acknowledge">Acknowledgments</a></li>
  <li><a href="#conf">Conformance-related definitions</a></li>
  <li><a href="#synnot">Syntax Notation Using XML Schema</a></li>
  <li><a href="#Intro">1. Introduction</a></li>
  <li><a href="#model">2. The VOResource Data Model</a>
       <ul class="toc">
         <li> <a href="#ns">2.1. The Schema Namespace and Location</a></li>
         <li> <a href="#summ">2.2. Summary of Metadata Concepts</a></li>
       </ul>
  </li><li><a href="#metadata">3. The VODataService Metadata</a>
       <ul class="toc">
         <li> <a href="#resext">3.1.  Resource Type Extensions</a> </li>
         <li> <a href="#cover"> 3.2.  Coverage</a> </li>
         <li> <a href="#table">3.3.  Tabular Data</a> </li>
         <li> <a href="#paramif">3.4.  Interface Type Extension: ParamHTTP</a> </li>
         <li> <a href="#param">3.5.  Data Parameters</a> </li>
       </ul></li>
  <li><a href="#appA">Appendix A: the VODataService XML Schema</a></li>
  <li><a href="#appB">Appendix B: Compatibility Issues with
                      VODataService 1.0</a></li>
  <li><a href="#appC">Appendix C: Change History</a></li>
  <li><a href="#References">References</a></li>
</ul>
<hr>

<h2><a name="Intro">1. Introduction</a></h2>

<p>
The VOResource standard [<a href="#VOR">VOR</a>] provides a means of
encoding IVOA Resource Metadata [<a href="#RM">RM</a>] in XML.
VOResource uses XML Schema [<a href="#schema">schema</a>] define
most of the XML syntax rules (while a few of the syntax rules are
outside the scope of Schema).  VOResource also describes mechanisms
for creating extensions to the core VOResource metadata.  This allows
for the standardization of new metadata for describing specialized
kinds of resources in piecemeal way without deprecating the core
schema or other extensions.  This document defines one such extension
referred to as <strong>VODataService</strong>.  
</p>

<p>
The purpose of this extension is to define common XML Schema
types--particularly new resource types--that are useful for describing
data collections and services that access data.  In particular, it
allows one to describe the data's <em>coverage</em>:  the parts of the
sky the data is associated with and the time and frequency ranges that
were observed or modeled to create the data.  It also allows one to
describe tables in detail.  In particular, one can describe each of
the columns of a table--providing, for example, its name, type, UCD,
and textual description.  When this metadata is part of a resource
description in a registry [<a href="VOR">VOR</a>], it becomes possible
to discover tables that contains particular kinds of data.  
</p>

<p>
It is intended that VODataService will be central to describing
services that support standard IVOA data access layer protocols such
as Simple Image Access [<a href="SIA">SIA</a>] and Simple Cone Search
[<a href="SCS">SCS</a>].  While other VOResource extensions would
define the protocol-specific metadata (encapsulated as a standard
<em>capability</em> [<a href="VOR">VOR</a>]), the general service
resource description would share the common data concepts such as
coverage and tabular data.  Note, however, that a service described
using the VODataService schema need not support any standard
protocols.  With the VODataService extension schema plus the core
VOResource schema, it is possible to describe a custom service
interface that accesses data.  
</p>

<p>
As a legal extension of VOResource [<a href="#VOR">VOR</a>], the use
of VODataService is subject to the rules and recommendations for XML
[<a href="#xml">xml</a>], XML Schema [<a href="#schema">schema</a>],
and VOResource itself.  
</p>

<a name="model">
<h2>The VODataService Data Model</h2></a>

<p>
The VODataService extension in general enables the description of two
types of resources:  data collections and services that access data.
Here's an example of a VOResource document (abbreviated for the
purposes of illustration) that describes a service from the NASA
Extragalactic Database (NED) that provides measured redshifts for a
given object.
</p>


<div class="exampleOuter">
<a name="organisation.xml">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">A description
of a service returning tabular data,
<a href="http://www.ivoa.net/Documents/WD/ReR/catalogservice.xml">catalogservice.xml</a></div>
<div class="exampleInner">
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td>
<pre>


<font color="red">2</font> 



<font color="purple">1</font>
<font color="purple">1</font>
<font color="purple">1</font>

<font color="blue">3
3
3
3
3
3</font>

<font color="brown">4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4

4</font>
<font color="green">5
5
5
5
5
5
5
5
5
5
5
5
5
5
5
5
5</font>
<font color="brown">4</font>

<font color="#000090">6
6
6
6
6
6
6
6
6

6
6
6</font>

<font color="#d00000">7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7
7</font>

</pre></td><td bgcolor="#d5dee3" width="100%">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ri:Resource xmlns="" 
             <font color="red">xsi:type="vs:CatalogService"</font> status="active" 
             updated="2008-04-29T14:51:54Z" created="2005-10-14T01:46:00Z"
             xmlns:ri="http://www.ivoa.net/xml/RegistryInterface/v1.0" 
             xmlns:vr="http://www.ivoa.net/xml/VOResource/v1.0" 
             <font color="purple">xmlns:vs="http://www.ivoa.net/xml/VODataService/v1.1" 
             xmlns:stc="http://www.ivoa.net/xml/STC/stc-v1.30.xsd" 
             xmlns:xlink="http://www.w3.org/1999/xlink" </font>
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             <font color="blue">xsi:schemaLocation="http://www.ivoa.net/xml/VOResource/v1.0
                                 http://www.ivoa.net/xml/VOResource/v1.0
                                 http://www.ivoa.net/xml/VODataService/v1.1
                                 http://www.ivoa.net/xml/VODataService/v1.1
                                 http://www.ivoa.net/xml/STC/stc-v1.30.xsd
                                 http://www.ivoa.net/xml/STC/stc-v1.30.xsd"&gt;</font>

  <font color="brown">&lt;title&gt;The NASA/IPAC Extragalactic Database&lt;/title&gt;
  &lt;shortName&gt;NED_redshift&lt;/shortName&gt;
  &lt;identifier&gt;ivo://ned.ipac/Redshift_By_Object_Name&lt;/identifier&gt;
  &lt;curation&gt;
    &lt;publisher&gt;The NASA/IPAC Extragalactic Database&lt;/publisher&gt;
    &lt;contact&gt;
      &lt;name&gt;Olga Pevunova&lt;/name&gt;
      &lt;email&gt;contact@datacenter.edu&lt;/email&gt;
    &lt;/contact&gt;
  &lt;/curation&gt;
  &lt;content&gt;
    &lt;subject&gt;redshift&lt;/subject&gt;
    &lt;subject&gt;galaxies&lt;/subject&gt;
    &lt;description&gt;
      NED is built around a master list of extragalactic objects for
      which cross-identifications of names have been established,
      accurate positions and redshifts entered to the extent possible,
      and some basic data collected. This service will return recorded 
      redshifts for a given object.
    &lt;/description&gt;
    &lt;referenceURL&gt;http://nedwww.ipac.caltech.edu/help/data_help.html#zdat&lt;/referenceURL&gt;
    &lt;type&gt;BasicData&lt;/type&gt;
    &lt;contentLevel&gt;Research&lt;/contentLevel&gt;
  &lt;/content&gt;

  &lt;capability&gt;
    <font color="green">&lt;interface xsi:type="vs:ParamHTTP"&gt;
      &lt;accessURL use="base"&gt;
         http://nedwww.ipac.caltech.edu/cgi-bin/nph-datasearch?search_type=Redshifts&amp;
      &lt;/accessURL&gt;
      &lt;queryType&gt;GET&lt;/queryType&gt;
      &lt;resultType&gt;application/xml+votable&lt;/resultType&gt;
      &lt;param use="required"&gt;
        &lt;name&gt;objname&lt;/name&gt;
        &lt;description&gt;Name of object&lt;/description&gt;
        &lt;dataType&gt;string&lt;/dataType&gt;
      &lt;/param&gt;
      &lt;param use="required"&gt;
        &lt;name&gt;of&lt;/name&gt;
        &lt;description&gt;Output format parameter, must be "xml_main" for VOTable output.&lt;/description&gt;
        &lt;dataType&gt;string&lt;/dataType&gt;
      &lt;/param&gt;
    &lt;/interface&gt;</font>
  &lt;/capability&gt;</font>

  <font color="#000090">&lt;coverage&gt;
    &lt;stc:STCResourceProfile&gt;
       &lt;stc:AstroCoordSystem xlink:type="simple"
                             xlink:href="ivo://STClib/CoordSys#UTC-FK5-TOPO" 
                             id="UTC-FK5-TOPO"/&gt; 
       &lt;stc:AstroCoordArea coord_system_id="UTC-FK5-TOPO"&gt;
          &lt;stc:AllSky/&gt;
       &lt;/stc:AstroCoordArea&gt;
    &lt;/stc:STCResourceProfile&gt;
    
    &lt;waveband&gt;Radio&lt;/waveband&gt;
    &lt;waveband&gt;Optical&lt;/waveband&gt;
  &lt;/coverage&gt;</font>

  <font color="#d00000">&lt;tableset&gt;
    &lt;schema&gt;
      &lt;name&gt;default&lt;/name&gt;
      &lt;table role="out"&gt;
        &lt;name&gt;default&lt;/name&gt;
        &lt;column&gt;
          &lt;name&gt;No.&lt;/name&gt;
          &lt;description&gt;
             A sequential data-point number applicable to this list only.
          &lt;/description&gt;
          &lt;ucd&gt;meta.number&lt;/ucd&gt;
          &lt;dataType&gt;int&lt;/dataType&gt;
        &lt;/column&gt;
        &lt;column&gt;
          &lt;name&gt;Name in Publication&lt;/name&gt;
          &lt;description&gt;
             The object's name in NED's standard format, of the object to which the data apply.
          &lt;/description&gt;
          &lt;ucd&gt;meta.id;name&lt;/ucd&gt;
          &lt;dataType&gt;string&lt;/dataType&gt;
        &lt;/column&gt;
        &lt;column&gt;
          &lt;name&gt;Published Velocity&lt;/name&gt;
          &lt;description&gt;
            The radial velocity , derived from derived from the shift of some spectral feature, in km/sec
          &lt;/description&gt;
          &lt;unit&gt;km/sec&lt;/unit&gt;
          &lt;ucd&gt;src.spect.dopplerVeloc&lt;/ucd&gt;
          &lt;dataType&gt;int&lt;/dataType&gt;
        &lt;/column&gt;
      &lt;/table&gt;
    &lt;schema&gt;
  &lt;/tableset&gt;</font>
&lt;/ri:Resource&gt;
</pre></td></tr></tbody></table>
</div></div>

This example illustrates some of the features of the VODataService
extension:
<ol>
  <li> <font color="purple">the extra namespaces associated with
       VODataService metadata; if STC coverage information is not
       included, then only the VODataService namespaced is needed. </font> </li>
  <li> <font color="red">the specific type of resource indicated by
       the value of the <code>xsi:type</code> attribute; in this case
       <code>vs:CatalogService</code> indicates that this is
       describing a service that accesses tabular data.</font></li>
  <li> <font color="blue">the location of the VOResource-related schema 
       documents used by this description, </font> </li>
  <li> <font color="brown">the core VOResource metadata, </font></li>
  <li> <font color="green">an interface described by the
       VODataService interface type, <code>vs:ParamHTTP</code>; this
       type can indicate input arguments it supports. </font></li>
  <li> <font color="#000090">a description of the
       <a href="#d:coverage">coverage</a>, including an STC
       description plus waveband keywords.</font></li> 
  <li> <font color="#d00000">a description of the table that is returned
       by the service.</font> </li>
</ol>

<h3><a name="ns">2.1. The Schema Namespace and Location</a></h3>

<p>
The namespace associated with VODataService extensions is
"http://www.ivoa.net/xml/VODataService/v1.1".  
Just like the namespace URI for the VOResource schema, the
VODataService namespace URI can be interpreted as a URL.  Resolving it
will return the XML Schema document (given in <a href="#appA">Appendix A</a>)
that defines the VODataService schema.  
</p>

<p>
Authors of VOResource instance documents may choose to
provide a location for the VOResource XML Schema document and its
extensions using the
<a href="http://www.w3.org/TR/xmlschema-0/#schemaLocation">
<code>xsi:schemaLocation</code></a> attribute.  While the choice of
the location value is the choice of the author, this specification
recommends using the VODataService namespace URI as its location URL
(as illustrated in the example above), as in,
</p>

<blockquote>
<pre>xsi:schemaLocation="http://www.ivoa.net/xml/VODataService/v1.1
                    http://www.ivoa.net/xml/VODataService/v1.1"</pre>
</blockquote>

<p>
</p><blockquote>
<table bgcolor="#dddddd" border="2" cellpadding="5"><tbody><tr><td>
<dl>
  <dt> <strong>Note:</strong> </dt>
  <dd> The IVOA Registry Interface standard [<a href="#RI">RI</a>]
       actually <em>requires</em> that the VOResource records it
       shares with other registries provide location URLs via
       <code>xsi:schemaLocation</code> for the VOResource schema and
       all legal extension schemas that are used in the records.  This
       rule would apply to the VODataService schema.  </dd>
</dl>
</td></tr></tbody></table>
</blockquote>
<p></p>

<p>
The prefix, <code>vs</code>, is used by convention as the
prefix defined for the VODataService schema; however, instance documents
may use any prefix of the author's choosing.  In applications where
common use of prefixes is recommended (such as with the Registry
Interface specification [<a href="#RI">RI</a>]), use of the
<code>vs</code> prefix is recommended.  Note also that in this
document, the <code>vr</code> prefix is used to label, as shorthand, a
type or element name that is defined in the VOResource schema, as in
<code>vr:Resource</code>. 
</p>

<p>
</p><blockquote>
<table bgcolor="#dddddd" border="2" cellpadding="5"><tbody><tr><td>
<dl>
  <dt> <strong>Note:</strong> </dt>
  <dd> One reason one may <em>not</em> be able to use <code>vs</code>
       to represent the VODataService schema, version 1.1, is because
       it is already in defined to represent VODataService v1.0 and
       cannot be overridden.  At this writing, there are no IVOA
       applications in which this is the case.  Consult
       <a href="#appB">Appendix B</a> for more details on
       compatibility issues.</dd>
</dl>
</td></tr></tbody></table>
</blockquote>
<p></p>

<p>
As recommend by the VOResource standard [<a href="#VOR">VOR</a>], the
VODataService schema sets <code>elementFormDefault="unqualified"</code>.
This means that it is not necessary to qualify element names defined
in this schema with a namespace prefix (as there are no global
elements defined).  The only place it is usually needed is as a
qualifier to a VODataService type name given as the value of an
<code>xsi:type</code> attribute.  
</p>

<a name="summ">
<h3>2.2. Summary of Metadata Concepts</h3></a>

<p>
The VODataService extension defines four new types of resources.  Two inherit
directly from <code>vr:Resource</code>:
</p>

<blockquote>
<dl>
  <dt> <code>vs:DataCollection</code> </dt>
  <dd> This resource declares the existence of a collection of data, what
       it represents, and how to get it.  The access to the data may be
       limited to access a human-readable web page (given by
       <code>content/referenceURL</code>); however, if the
       constituents of the collection are available statically via a
       URL (e.g. an FTP URL to a directory containing all the files),
       that URL can be provided.  It can also provide pointers to
       other IVOA registered services that can be used to access the data.
       </dd>

  <dt> <code>vs:StandardSTC</code>
  <dd> This resource type declares one or more coordinate systems describe
       using STC [<a href="#STC">STC</a>] such that each can be
       assigned a globally unique identifier (based on the IVOA
       identifier for the resource record itself).  This identifier
       can then be referenced in any other STC description in lieu of
       a fully described coordinate system.  Coordinate system
       described in this way become reusable standards once they are
       registered in an IVOA registry.
</dl>
</blockquote>

<p>
The other two resource types represent specialized services:
</p>

<blockquote>
<dl>
  <dt> <code>vs:DataService</code> </dt>
  <dd> Inheriting from <code>vr:Service</code>, this type is for
       services that access astronomical data.  It adds the ability to
       describe the data's <a href="#d:coverage">coverage</a> of the
       sky, frequency, and time. </dt>

  <dt> <code>vs:CatalogService</code> </dt>
  <dd> Inheriting from <code>vs:DataService</code>, this type
       specifically refers to a service that accesses tabular data.
       In addition to the coverage information, this type adds the
       ability to describe the tables and their columns.  This is
       intended for describing services that support the "simple" IVOA
       data access layer protocols such as Simple Image Access
       [<a href="#SIA">SIA</a>] and Simple Cone Search
       [<a href="#SCS">SCS</a>].  </dd>
</dl>
</blockquote>

<p>
In general, <a name="d:coverage"><code>coverage</code></a> refers to
the extent that data samples the measurement range of the sky (space),
frequency, and time.  The coverage metadata (encoded via the
<code>vs:Coverage</code> type) has two parts to it.  The first part
allows a full STC profile description (via the imported STC element,
<code>&lt;stc:STCResourceProfile&gt;</code>).  The second part
captures key coverage metadata defined in the IVOA Resource Metadata
standard [<a href="#RM">RM</a>].  The RM-derived coverage elements can
be considered summarizing metadata for many of the details that
<em>may</em> appear within the STC description, and enables simpler
searching of high-level coverage information.
</p>

<p>
The detailed STC profile contained within the
<code>&lt;stc:STCResourceProfile&gt;</code> element is capable of
describing coverage not only in space, time, and frequency but also
velocity and redshift.  The profile contains up to three types of
component descriptions ([<a href="#STC">STC</a>], section 4.1):
coordinate systems, coordinate values, and coordinate areas or ranges.
The first component describes the coordinate systems that coordinate
values, areas, and regions are referenced to.  While any arbitrary
system can be described in this first part, it is expected that most
VODataService instances will provide a simple pointer to a predefined
system in a registered <code>vs:StandardSTC</code> record (using the
mechanism summarized in section 3.1.2 below).  The coordinate values
part will usually be used to describe the coordinate resolution,
errors, or typical sizes.  The coordinate areas part describes the
actual coverage over any of the coordinates.  
</p>

<p><a name="table_set"></a>
Table descriptions appear within a single <code>&lt;tableset&gt;</code>
element.  This element can in turn can contain one or more
<code>&lt;schema&gt;</code> element in which each <strong>schema</strong>
represents a set of logically related tables.  It is not required that 
that the schema grouping match the underlying database's
<em>catalogs</em> or <em>schemas</em> (as defined in
[<a href="#SQLGuide">SQLGuide</a>]), though it may.  In some cases,
such as when describing the table that is returned from an SIA
service, the terms <em>catalog</em> and <em>schema</em> may have
little relevance; in this case, the table can be considered part of a
sole "default" schema.  
</p>

<p>
For each table in a schema, one can describe each of the columns,
providing such information as its name, type, UCD [<a href="#UCD">UCD</a>],
units, and a textual description.  Providing this information makes it
possible to select a resource based on the kind data contained in its
tables.  
</p>

<p>
Finally, the VODataService defines specialized interface type
(inheriting from <code>vr:Interface</code>) called
<code>vs:ParamHTTP</code>.  This type is used to describe the commonly
used interface that is invoked over HTTP as either a GET or a POST 
[<a href="#HTTP">HTTP</a>] in which the arguments are encoded as
<em>name=value</em> pairs.  In addition to the access URL, it can
include not only the mime-type of the returned response, it can also
enumerate the input arguments that are supported by the service
implementation.  Much like table columns, one can indicate for each
argument the name, the UCD, the data type, the units, whether it is
required, and a textual description the argument.  Note that this does
not capture any interdependencies between arguments.  For example, it
cannot indicate if one argument only makes sense in the presence of
another argument.  
</p>

<a name="metadata">
<h2>3. The VODataService Metadata</h2></a>

<p>
This section enumerates the types and elements defined in the
VODataService extension schema and describes their meaning.  Where a
term matches a term in the <a href="#RM">RM</a>, its meaning is given
in terms of the RM definition.  
</p>

<a name="resext">
<h3>3.1.  Resource Type Extensions</h3></a>

<a name="DataCollection">
<h4>3.1.1.  DataCollection</h4></a>

<p>
A <strong>data collection</strong>, which is describable with the
<code>vs:DataCollection</code> resource type, is a logical
group of data which, in general, is composed of one or more accessible
datasets.  A collection can contain any combination of images,
spectra, catalogs, time-series, or other data.  (In contrast, we talk
about a <em>dataset</em> as being a collection of digitally-encoded
data that is normally accessible as a single unit, e.g. a file.)
</p>

<p>
The <code>vs:DataCollection</code> type adds seven additional metadata
elements beyond the core VOResource metadata [<a href="#VO">VO</a>].  
</p>

<div class="schemaOuter">
<a name="s:DataCollection">
</a><div class="schemaHeader">vs:DataCollection Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="DataCollection"&gt;
   &lt;xs:complexContent&gt;
      &lt;xs:extension base="vr:Resource"&gt;
         &lt;xs:sequence&gt;

           &lt;xs:element name="facility" type="vr:ResourceName" 
                       minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;xs:element name="instrument" type="vr:ResourceName" 
                       minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;xs:element name="rights" type="vr:Rights" 
                       minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;xs:element name="format" type="vs:Format" 
                       minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;xs:element name="coverage" type="vs:Coverage" minOccurs="0"/&gt;
           &lt;xs:element name="tableset" type="vs:TableSet" minOccurs="0"&gt;
             &lt;xs:unique name="DataCollection-schemaName"&gt;
                &lt;xs:selector xpath="schema" /&gt;
                &lt;xs:field xpath="name" /&gt;
             &lt;/xs:unique&gt;
             &lt;xs:unique name="DataCollection-tableName"&gt;
                &lt;xs:selector xpath="schema/table" /&gt;
                &lt;xs:field xpath="name" /&gt;
             &lt;/xs:unique&gt;
           &lt;xs:element&gt;
           &lt;xs:element name="accessURL" type="vr:AccessURL" minOccurs="0"/&gt;

         &lt;/xs:sequence&gt;
      &lt;/xs:extension&gt;
   &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
The definition of <code>&lt;tableset&gt;</code> element places forces certain
names within its description to be unique; these constraints are explained
further in <a href="#s:unique">3.3.1</a>.
</p>

<p>
All of the child elements except <code>&lt;tableset&gt;</code> derive
from RM terms.  Four of the elements--<code>&lt;facility&gt;</code>, 
<code>&lt;instrument&gt;</code>, <code>&lt;rights&gt;</code>,
and <code>&lt;accessURL&gt;</code>--are reuses of elements defined in 
the core VOResource schema, sharing the same syntax and similar
semantics.  In particular, the meanings of <code>&lt;facility&gt;</code>
and <code>&lt;instrument&gt;</code> in the context of 
<code>vs:DataCollection</code> are different from that in 
<code>vr:Organisation</code> only in that in the former type, they refer
to the origin of the data.  
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:DataCollection Extension Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">facility</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Facility</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with optional ID attribute: <a href="http://www.ivoa.net/Documents/REC/ReR/VOResource-20080222.html#d:ResourceName"><code>vr:ResourceName</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the observatory or facility
                  used to collect the data contained or managed by
                  this resource.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">instrument</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Instrument</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with optional ID attribute: <a href="http://www.ivoa.net/Documents/REC/ReR/VOResource-20080222.html#d:ResourceName"><code>vr:ResourceName</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the instrument used to 
                  collect the data contained or managed by this resource.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">rights</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Rights</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string, controlled vocabulary:
                               <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">Information about rights
held in and over the resource.</td>  
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>
              <td valign="top"><table border="0" width="100%">
                 <tbody><tr><td valign="top"><code>public</code></td>
                     <td valign="top">unrestricted, public access is
                         allowed without authentication.</td></tr>
                 <tr><td valign="top"><code>secure</code></td>
                     <td>authenticated, public access is allowed.</td></tr>
                 <tr><td valign="top"><code>proprietary</code></td>
                     <td>only proprietary access is allowed with
                         authentication.</td></tr>  
              </tbody></table>
              </td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">format</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Format</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with <a href="#a:Format">optional
  isMIMEType attribute</a>, <a href="#s:Format"><code>vs:Format</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The physical or digital
                manifestation of the information supported by a resource.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">MIME types should be used for
                      network-retrievable, digital data.  Non-MIME
                      type values are used for media that cannot be
                      retrieved over the network--e.g. CDROM, poster,
                      slides, video cassette, etc.</td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">coverage</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Coverage</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite; <a href="#s:Coverage"><code>vs:Coverage</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">Extent of the content of
                     the resource over space, time, and frequency.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">tableset</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite; <a href="#s:TableSet"><code>vs:TableSet</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A description of tables
that are part of this collection.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional.</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">accessURL</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Service.AccessURL</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">URL with <a href="#a:accessURL">optional use attribute</a>: <a href="http://www.ivoa.net/Documents/REC/ReR/VOResource-20080222.html#d:AccessURL"><code>vr:AccessURL</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The URL can be used to
download the data contained in this data collection.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required; multiple occurrences allowed.</td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
See <a href="#table">section 3.3</a> for a specification of
the <code>vs:TableSet</code> type for describing tables.  
</p>

<a name="StandardSTC">
<h4>3.1.2.  StandardSTC</h4></a>

<p>
The <code>vs:StandardSTC</code> resource type is used to register standard
coordinate systems, positions, or regions using the Space-Time
Coordinate (STC, [<a href="#STC">STC</a>]) standard schema so that
they can by uniquely referenced by name by other resource descriptions
or applications.  This resource type extends the core metadata with a
single element, <code>&lt;stcDefinitions&gt;</code>, which contains
the STC definitions.  
</p>

<div class="schemaOuter">
<a name="s:StandardSTC">
</a><div class="schemaHeader">vs:StandardSTC Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="StandardSTC"&gt;
   &lt;xs:complexContent&gt;
      &lt;xs:extension base="vr:Resource"&gt;
         &lt;xs:sequence&gt;
            &lt;xs:element name="stcDefinitions"
                        type="stc:STCResourceProfile"
                        minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;/xs:sequence&gt;
      &lt;/xs:extension&gt;
   &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
The curation metadata that is part of the core VODataService should
generally refer to the publishing organization and persons that are
responsible for defining the systems, updating the definitions as
needed, and responding to user questions about the definitions.  The
content metadata, in particular the textual contents of the
<code>&lt;description&gt;</code> element, should describe the purpose
of the definition and where references to the defined systems,
positions, or regions may be used.  
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:StandardSTC Extension Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">stcDefintions</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">composite;
<code>stc:stcDescriptionType</code> </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the definitions of systems,
positions, and regions that are available for referencing.  </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required; multiple occurrences allowed</td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
The content of the <code>&lt;stcDefinitions&gt;</code> element is
controlled by the STC schema.  Because that schema uses the 
<code>elementFormDefault="true"</code> and most of the STC elements
are defined to be global [<a href="#schema">schema</a>],
<code>&lt;stcDefinitions&gt;</code> child elements must be qualified
as being in the STC namespace
(http://www.ivoa.net/xml/STC/stc-v1.30.xsd), by either setting the 
default namespace (via the <code>xmlns</code> attribute) or via
explicit qualification via a prefix (see example).  
</p>

<!--
<div class="exampleOuter">
<a name="stdstc.xml">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">A description
of standard STC coordinate systems, 
<a href="http://www.ivoa.net/Documents/WD/ReR/stdstc.xml">stdstc.xml</a></div>
<div class="exampleInner">

</div></div>
-->

<a name="DataService">
<h4>3.1.3.  DataService</h4></a>

<p>
The <code>vs:DataService</code> resource type is for describing a
service that provides access to astronomical data.  This service adds
to the core VOResource service metadata the ability to associate an
observing facility and/or instrument with the data as well as describe
the coordinate coverage of data via its child <code>&lt;coverage&gt</code>
element.  Note that while these elements are all optional, resource
of this type still implies access to astronomical data.
</p>

<div class="schemaOuter">
<a name="s:DataService">
</a><div class="schemaHeader">vs:DataService Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="DataService"&gt;
   &lt;xs:complexContent&gt;
      &lt;xs:extension base="vr:Service"&gt;
         &lt;xs:sequence&gt;
           &lt;xs:element name="facility" type="vr:ResourceName" 
                       minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;xs:element name="instrument" type="vr:ResourceName" 
                       minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;xs:element name="coverage" type="vs:Coverage" minOccurs="0"/&gt;
         &lt;/xs:sequence&gt;
      &lt;/xs:extension&gt;
   &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
The use and meaning of the <code>&lt;facility&gt;</code> and
<code>&lt;instrument&gt;</code> elements are the same as for
<code><a href="#s:DataCollection">vs:DataCollection</a></code>.
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:DataService Extension Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">facility</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Facility</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with optional ID attribute: <a href="http://www.ivoa.net/Documents/REC/ReR/VOResource-20080222.html#d:ResourceName"><code>vr:ResourceName</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the observatory or facility
                  used to collect the data contained or managed by
                  this resource.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">instrument</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Instrument</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with optional ID attribute: <a href="http://www.ivoa.net/Documents/REC/ReR/VOResource-20080222.html#d:ResourceName"><code>vr:ResourceName</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the instrument used to 
                  collect the data contained or managed by this resource.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">coverage</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Coverage</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">composite; <code>vs:Coverage</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">Extent of the content of the resource over space, time, and frequency.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
The contents of the <code>&lt;coverage&gt;</code> element is detailed
in <a href="s:Coverage">section 3.2</a>.
</p>

<a name="CatalogService">
<h4>3.1.4.  CatalogService</h4></a>

<p>
The <code>vs:CatalogService</code> resource type is for describing a
service that interacts with astronomical data through one or more
specified tables.  Because it extends the <code>vs:DataService</code>
type, a catalog service can have a coverage description as well.  The
tabular data may optionally be described via a
<code>&lt;tableset&gt;</code> element.
</p>

<div class="schemaOuter">
<a name="s:CatalogService">
</a><div class="schemaHeader">vs:CatalogService Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="CatalogService"&gt;
      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vs:DataService"&gt;
            &lt;xs:sequence&gt;

               &lt;xs:element name="tableset" type="vs:TableSet" minOccurs="0"&gt;
                  &lt;xs:unique name="CatalogService-schemaName"&gt;
                     &lt;xs:selector xpath="schema" /&gt;
                     &lt;xs:field xpath="name" /&gt;
                  &lt;/xs:unique&gt;
                  &lt;xs:unique name="CatalogService-tableName"&gt;
                     &lt;xs:selector xpath="schema/table" /&gt;
                     &lt;xs:field xpath="name" /&gt;
                  &lt;/xs:unique&gt;
                &lt;xs:element&gt;

            &lt;/xs:sequence&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
The definition of <code>&lt;tableset&gt;</code> element places forces certain
names within its description to be unique; these constraints are explained
further in <a href="#s:unique">3.3.1</a>.
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:CatalogService Extension Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">tableset</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite; <a href="#s:TableSet"><code>vs:TableSet</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A description of the tables that are accessible
                       through this service.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<a name="cover">
<h3>3.2.  Coverage</h3></a>

<p>
The <code>vs:Coverage</code> type describes how the data samples the
sky, frequency, and time.  
</p>

<div class="schemaOuter">
<a name="s:DataCollection">
</a><div class="schemaHeader">vs:Coverage Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="Coverage"&gt;
      &lt;xs:sequence&gt;

         &lt;xs:element ref="stc:STCResourceProfile" minOccurs="0"/&gt;
         &lt;xs:element name="footprint" type="vs:ServiceReference" 
                     minOccurs="0"/&gt;
         &lt;xs:element name="waveband" type="vs:Waveband" 
                     minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;xs:element name="regionOfRegard" type="xs:float"
                     minOccurs="0" maxOccurs="unbounded"/&gt;

      &lt;/xs:sequence&gt;            
   &lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
A detailed, systematic description of coverage is provided via the
child <code>&lt;stc:STCResourceProfile&gt;</code> element, taken from
the <a href="#STC">STC</a> schema, version 1.3, with the namespace,
<code>http://www.ivoa.net/xml/STC/stc-v1.30.xsd</code> (hereafter
referred using the <code>stc:</code> prefix).  This element is defined
in the STC schema as a global element; furthermore, the STC schema
sets its global <code>elementFormDefault="qualified"</code>.
Consequently, the <code>&lt;stc:STCResourceProfile&gt;</code> element
and all its child elements must be qualified as part of the STC
namespace as required by XML Schema [<a href="#schema">schema</a>].
In applications where common use of XML prefixes is required or
encouraged (e.g. the IVOA Registry Interfaces [<a href="#RI">RI</a>]),
use of the <code>stc:</code> prefix to represent the STC namespace is
encouraged.   
</p>

<p>
The remaining elements provide some summary information about the
coverage. 
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:Coverage Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">STCResourceProfile</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">composite: an
<code>stc:STCResourceProfile</code> element from the
<a href="#STC">STC</a> schema.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The STC description of the location of the resource's 
                 data (or behavior on data) on the sky, in time, and in 
                 frequency space, including resolution.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">In general, this description should be
                 approximate; a more precise description can be provided 
                 by the service referred to by the
                 <code>&lt;footprint&gt;</code> element.</td> 
          </tr></tbody></table>
      </td></tr>
   <tr><td valign="top">footprint</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">a URL with an optional IVOA identifier attribute: <code><a href="#s:ServiceReference"></a></code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a reference to a footprint service for retrieving 
                  precise and up-to-date description of coverage.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">the <code>ivo-id</code> attribute
                  refers to a Service record having a footprint
                  service capability.  That is, the record will have a
                  capability element describing the footprint service
                  (see <a href="#n:fpserv">"Note on Footprint
                  Service"</a> below for further discussion). 
                  The resource referred to may be the current one. </td> 
          </tr></tbody></table>
      </td></tr>
   <tr><td valign="top">waveband</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Coverage.Spectral</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
<td valign="top">string with controlled vocabulary: <code>vs:Waveband</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a named spectral region of
                  the electro-magnetic spectrum that the resource's
                  spectral coverage overlaps with.</td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>

<td valign="top"><table border="0" width="100%">
                 <tbody><tr><td valign="top"><code>Radio</code></td>
                     <td valign="top">
                       any wavelength &gt; 10 mm (or frequency &lt; 30 GHz)
                     </td></tr>
                 <tr><td valign="top"><code>Millimeter</code></td>
                     <td valign="top">
                       0.1 mm &lt;= wavelength &lt;= 10 mm; <br />
                       3000 GHz &gt;= frequency &gt;= 30 GHz.
                     </td></tr>
                 <tr><td valign="top"><code>Infrared</code></td>
                     <td valign="top">
                       1 micron &lt;= wavelength &lt;= 100 microns
                     </td></tr>
                 <tr><td valign="top"><code>Optical</code></td>
                     <td valign="top">
                       0.3 microns &lt;= wavelength &lt;= 1 micron; <br />
                       300 nm &lt;= wavelength &lt;= 1000 nm; <br />
                       3000 Angstroms &lt;= wavelength &lt;= 10000 Angstroms
                     </td></tr>
                 <tr><td valign="top"><code>UV</code></td>
                     <td valign="top">
                       0.1 micron &lt;= wavelength &lt;= 0.3 microns; <br />
                       100 nm &lt;= wavelength &lt;= 3000 nm; <br />
                       1000 Angstroms &lt;= wavelength &lt;= 30000 Angstroms
                     </td></tr>
                 <tr><td valign="top"><code>EUV</code></td>
                     <td valign="top">
                       100 Angstroms &lt;= wavelength &lt;= 1000 Angstroms; <br />
                       12 eV &lt;= energy &lt;= 120 eV
                     </td></tr>
                 <tr><td valign="top"><code>X-ray</code></td>
                     <td valign="top">
                       0.1 Angstroms &lt;= wavelength &lt;= 100 Angstroms; <br />
                       0.12 keV &lt;= energy &lt;= 120 keV
                     </td></tr>
                 <tr><td valign="top"><code>Gamma-ray</code></td>
                     <td valign="top">
                       energy &gt;= 120 keV
                     </td></tr>
              </tbody></table>
 </td> 
          </tr></tbody></table>
      </td></tr>
   <tr><td valign="top">regionOfRegard</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>RM Name:</em></td>
              <td valign="top">Coverage.RegionOfRegard</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">a floating point number: <code>xs:float</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a single numeric value representing the angle, given
                  in decimal degrees, by which a positional query
                  against this resource should be "blurred" in order
                  to get an appropriate match.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top"><!-- The idea behind this item is that if a
                  search for data within this resource is constrained by
                  a spatial region that is smaller than this value
                  would return the same number of items as when the
                  region is comparable to this value.  Search agents
                  wanting data items with high level of detail may
                  search resources only with a region of regard
                  <em>smaller</em> than some value, while those
                  wanting only low-detailed items (e.g. course surveys
                  or nearby galaxies) might want resource with a
                  region of region <em>larger</em> than some value
                  <p /> -->
                  In the case of image repositories, this value might
                  refer to a typical field-of-view size, or the
                  primary beam size for radio aperture synthesis data.
                  In the case of object catalogs, region of regard
                  should normally be the largest of the typical size
                  of the objects, the astrometric errors in the
                  positions, or the resolution of the data.  </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
</p><blockquote><a name="n:fpserv"></a>
<table bgcolor="#dddddd" border="2" cellpadding="5"><tbody><tr><td>
<dl>
  <dt> <strong>Note on Footprint Service:</strong> </dt>
  <dd> The <code>&lt;footprint&gt;</code> element has been defined in
       anticipation of a future standard IVOA footprint service
       protocol that can be used to respond to detailed spatial
       overlap queries.  Consequently, in the future, applications may
       be able to assume the protocol that footprint service URL
       supports.  When an application is unable to make any
       assumptions, the IVOA Identifier given by the attribute should
       be resolved and the returned resource description should be
       searched for a recognized footprint service capability.</dd> 
</dl>
</td></tr></tbody></table>
</blockquote>
<p></p>

<a name="table">
<h3>3.3.  Tabular Data</h3></a>

<p>
The <a name="d:TableSet"></a><code>vs:TableSet</code> type can be used
to describe a set of tables that are part of a single resource and can
be consider functionally all located at a single site.
</p>

<div class="schemaOuter">
<a name="s:TableSet">
</a><div class="schemaHeader">vs:TableSet Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="TableSet"&gt;
   &lt;xs:sequence&gt;
      &lt;xs:element name="schema" type="vs:TableSchema" 
                  minOccurs="1" maxOccurs="unbounded"/&gt;
   &lt;/xs:sequence&gt;

   &lt;xs:anyAttribute namespace="##other" /&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:TableSet Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">schema</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite; <a href="#s:TableSchema"><code>vs:TableSchema</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A named description of a set of logically related tables.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required; multiple occurrences are allowed.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">See <a href="#s:unique">section 3.3.1</a>
              regarding unique names for schemas.</td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
The <a name="d:TableSchema"></a><code>vs:TableSchema</code> type collects
tables together that are logically related.  For example, a single
resource may provide access several major astronomical catalogs
(e.g. SDSS, 2MASS, and FIRST) from one site, enabling high-performance
cross-correlations between them.  Each catalog can be described in a
separate <code>&lt;schema&gt;</code> element, using the elements from
the <code>vs:TableSchema</code> type. 
</p>

<div class="schemaOuter">
<a name="s:TableSchema">
</a><div class="schemaHeader">vs:TableSchema Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="TableSchema"&gt;
   &lt;xs:sequence&gt;

      &lt;xs:element name="name" type="xs:token" minOccurs="1" maxOccurs="1"/&gt;
      &lt;xs:element name="title" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="description" type="xs:token" 
                  minOccurs="0" maxOccurs="1"/&gt;
      &lt;xs:element name="utype" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="table" type="vs:Table" 
                  minOccurs="0" maxOccurs="unbounded"/&gt;

   &lt;/xs:sequence&gt;

   &lt;xs:anyAttribute namespace="##other" /&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:TableSchema Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">name</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A name for the set of tables.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               If there is no appropriate logical name associated with
               this set, the name should be explicitly set to
               "default".  See <a href="#s:unique">section 3.3.1</a>
               regarding the uniqueness of this name.  </td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">title</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a descriptive, human-interpretable name for the table set.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               This is used for display purposes and is useful when there are
                  multiple schemas in the context (e.g. within a
                  tableset; otherwise, the resource title could be
                  used instead).  Note, however, that there is no requirement
                  regarding uniqueness.  If a title is not provided,
                  the schema name can be used for display purposes.</td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">description</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A free text description of
                 the tableset that should explain in general how all
                 of the tables are related.</td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">utype</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">an identifier for a concept in a data model that
                  the data in this schema as a whole represent.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               The format defined in the VOTable standard, section 4.1
               [<a href="#VOTable">VOTable</a>] is strongly
               recommended; see <a href="#n:utypefmt">"Note on UType
               Format</a> below. </td>  
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">table</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite: <code><a href="#s:Table"></a>vs:Table</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A marked description of one of the tables that makes up the set.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences are allowed.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">See <a href="#s:unique">section 3.3.1</a>
              regarding unique names for schemas. </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
</p><blockquote><a name="n:utypefmt"></a>
<table bgcolor="#dddddd" border="2" cellpadding="5"><tbody><tr><td>
<dl>
  <dt> <strong>Note on UType Format:</strong> </dt>
  <dd> As of this writing, an IVOA standard for the format of utypes
       is still under development.  As a result, the most definitive
       documentation of the format is in section 4.1 of the VOTable
       specification [<a href="#VOTable">VOTable</a>], which is
       expected to be a more general form to be spelled out in the
       eventual utype standard.  Use of that latter standard is
       recommended once it becomes available.  </dd> 
</dl>
</td></tr></tbody></table>
</blockquote>
<p></p>

<p>
Each table in a schema is described in detail using the
<code>vs:Table</code> type.
</p>

<div class="schemaOuter">
<a name="s:TableSchema">
</a><div class="schemaHeader">vs:TableSchema Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="Table"&gt;
   &lt;xs:sequence&gt;

      &lt;xs:element name="name" type="xs:token" 
                  minOccurs="1" maxOccurs="1"/&gt;
      &lt;xs:element name="title" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="description" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="utype" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="column" type="vs:TableParam" 
                  minOccurs="0" maxOccurs="unbounded"/&gt;

   &lt;/xs:sequence&gt;

   &lt;xs:attribute name="type" type="xs:string"/&gt;
   &lt;xs:anyAttribute namespace="##other" /&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:Table Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">name</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A fully qualified name for
              the table.  This name should include all catalog or schema 
              prefixes needed to sufficiently uniquely distinguish it in a
              query to the table.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               In general, the format of the qualified name may
                  depend on the on the context; however, when the
                  table is intended to be queryable via ADQL, then the
                  catalog and schema qualifiers are delimited from the
                  table name with dots (.).
               <p />
               If this table is part of the schema named "default",
               the schema name does not need to appear in this table
               name, unless it is required by an associated access
               service.
               <p />
               If there is no appropriate logical name associated with
               this table, the name should be explicitly set to
               "default".  See <a href="#s:unique">section 3.3.1</a>
               regarding the uniqueness of this name.  </td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">title</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a descriptive, human-interpretable name for the table set.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               This is used for display purposes.  There is no requirement
                  regarding uniqueness.  If a title is not provided,
                  the table name can be used for display purposes.</td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">description</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A free-text description of
                 the table's contents.</td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">utype</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">an identifier for a concept in a data model that
                  the data in this table as a whole represent.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               The format defined in the VOTable standard, section 4.1
               [<a href="#VOTable">VOTable</a>] is strongly
               recommended; see <a href="#n:utypefmt">"Note on UType
               Format</a> above. </td>  
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">column</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite: <code><a href="#s:TableParam">vs:TableParam</a></code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A marked description of one of the table's columns.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences are allowed.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">See <a href="#param">section 3.5</a> for the 
              description of this element's contents. </td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">foreignKey</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite: <code><a href="#s:ForeignKey">vs:ForeignKey</a></code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">A description of a foreign
                  keys, one or more columns from the current table that 
                  can be used to join with another table.  </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences are allowed.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">See <a href="#fkey">section 3.5.2</a> for the 
              description of this element's contents. </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
Each column in a table can be described using the
<code>vs:TableParam</code> type which is described in
<a href="#param">section 3.5</a>.  The foreign keys in the table that
can be used to join it with another table can be described with the
<code>vs:ForeignKey</code> type (<a href="#fkey">section 3.3.2</a>).
A foreign key description should only refer to tables described within
the current table set.  
</p>

<p>
The <code>vs:Table</code> also provides an attribute for indicating
the role a table plays in the schema:
</p>

<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:Table Attributes </th>
  </tr><tr><th>Attribute</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top"><code>type</code></td>
      <td valign="top"><table border="0" width="100%">

          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">
                a name indicating the role this table plays.  
              </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Recommeded Values:</em></td>
              <td valign="top"><table border="0" width="100%">
                 <tbody><tr><td valign="top"><code>output</code></td><td />
                     <td valign="top">
                       this table structure is used to format the
                       output from a query
                     </td></tr>
                 <tr><td valign="top"><code>base_table</code></td><td />

                     <td valign="top">
                       this table contains records that represent the
                       main subjects of the parent schema; other
                       tables contain ancillary data.
                     </td></tr>
                 <tr><td valign="top"><code>view</code></td><td />
                     <td>the table represents a useful combination or
                       subset of other tables.</td></tr> 
              </tbody></table>
              Other values are allowed.
              </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>




<a name="s:unique">
<h4>3.3.1.  Unique Names for Tables</h4></a>

<p>
The definitions of the <code>&lt;tableset&gt;</code> elements used in
the <code><a href="#d:DataCollection">vs:DataCollection</a></code> and
<code><a href="#d:CatalogService">vs:CatalogService</a></code> types
constrain certain names to be unique.  In particular, all schema names
within a <code>&lt;tableset&gt;</code> element must be unique, and all
table names within a <code>&lt;tableset&gt;</code> element must be
unique.  (A schema and table may share a common name, such as
"default".)  These constraints makes it possible to uniquely locate
the description of a schema or table within a VOResource description.  
</p>

<div class="exampleOuter">

<a name="capability-xsi:type">
</a><div class="exampleHeader"><a name="e:unique">Example</a></div>
<div class="exampleWrapper">The uniqueness constraints for names
within table sets guarantee that when the following XPath queries are
applied to a <code>&lt;tableset&gt;</code> element, zero or one node
only will be returned:
</div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>   schema[@name="default"]
   schema/table[@name="default"]
</pre>
</div></div>

<p>
Name uniqueness is only required when the table set description is
part of a VOResource description.  The name uniqueness rules
<em>should</em> also be applied to other uses of the
<code>vs:TableSet</code> element outside of a VOResource
description.  
</p>

<a name="fkey"><a name="d:ForeignKey"></a>
<h4>3.3.2.  Foreign Keys</h4></a>

<p>
The <code>vs:ForeignKey</code> type allows one to describe foreign
keys in a table that allow it to be joined effectively with another
table.  A foreign key is a set of columns that map to a corresponding
set of columns in another table.  A <code>vs:ForeignKey</code>
description assumes a "current" table that need not be named.  
</p>

<div class="schemaOuter">
<a name="s:ForeignKey">
</a><div class="schemaHeader">vs:ForeignKey Type Schema Definition</a></div>
<div class="schemaInner">
<pre>
&lt;xs:complexType name="ForeignKey"&gt;
   &lt;xs:sequence&gt;
      &lt;xs:element name="targetTable" type="xs:token"/&gt;
      &lt;xs:element name="fkColumn" type="vs:FKColumn" 
                  minOccurs="1" maxOccurs="unbounded"/&gt;
   &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:ForeignKey Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">targetTable</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the fully-qualified name
               (including catalog and schema, as
               applicable) of the table that can be joined with the 
               table containing this foreign key.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">fkColumn</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> composite:
                  <a href="#s:FKColumn"><code>vs:FKColumn</code></a></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a pair of column names, one
               from this table and one
               from the target table that should be used to join the
               tables in a query.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required; multiple occurrences are allowed.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">There should be one
                 <code>&lt;fkColumn&gt;</code> element for each column
                 that makes up the foreign key.</td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<div class="schemaOuter">
<a name="s:vs:FKColumn">
</a><div class="schemaHeader">vs:FKColumn Type Schema Definition</a></div>
<div class="schemaInner">
<pre>
&lt;xs:complexType name="FKColumn"&gt;
   &lt;xs:sequence&gt;
      &lt;xs:element name="fromColumn" type="xs:token"/&gt;
      &lt;xs:element name="targetColumn" type="xs:token"/&gt;
   &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:FKColumn Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">fromColumn</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The unqualified name of the column from the current table.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">targetColumn</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The unqualified name of the column from the target table.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">required</td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
<div class="exampleOuter"><a name="ex:ForeignKey"></a>
<a name="post-request">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">a description of a foreign key in an
observation table pointing into a filter table.
</div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>
&lt;tableset&gt;
  &lt;schema&gt;
    &lt;name&gt; LSST &lt;/name&gt;
    &lt;table&gt;
       &lt;name&gt; LSST.Filters &lt;/name&gt;
       &lt;description&gt; a description of the filters used in observations &lt;/description&gt;
       &lt;column&gt;
          &lt;name&gt;ID&lt;/name&gt;
          ...
       &lt;/column&gt;
       ...
    &lt;/table&gt;
    &lt;table&gt;
       &lt;name&gt; LSST.Observations &lt;/name&gt;
       &lt;description&gt; a listing of the observations made &lt;/description&gt;
       &lt;column&gt;
          &lt;name&gt;filterID&lt;/name&gt;
          &lt;description&gt;
            the key into the Filter table pointing to the filter used
            in the observation.
          &lt;/description&gt;
          ...
       &lt;/column&gt;
       ...
       &lt;foreignKey&gt;
          &lt;targetTable&gt; LSST.Filters &lt;/targetTable&gt;
          &lt;fkColumn&gt;
             &lt;fromColumn&gt; filterID &lt;/fromColumn&gt;
             &lt;targetColumn&gt; ID &lt;/targetColumn&gt;
          &lt;/fkColumn&gt;
       &lt;/foreignKey&gt;
    &lt;/table&gt;
  &lt;/schema&gt;
&lt;/tableset&gt;
</pre>
</div></div>
</p>


<a name="s:tblext">
<h4>3.3.3.  Extending Table Metadata</h4></a>

It is envisioned that it may be useful in the future to provide richer
metadata for describing tables within a VOResource description that
what are defined in this document.  This document recommends the
use of the following extension mechanisms when richer descriptions are
desired:

<ol>
  <li> Use extended types by applying the <code>xsi:type</code>
       attribute to the <code>&lt;tableset&gt;</code>,
       <code>&lt;schema&gt;</code>, <code>&lt;table&gt;</code>, 
       <code>&lt;column&gt;</code> and/or
       <code>&lt;dataType&gt;</code> elements.  The values provided in the
       attributes must refer to an XML type legally extended from the types
       associated with these elements according to the rules of XML Schema
       [<a href="#schema">schema</a>] and the VOResource specification
       [<a href="#VOR">VOR</a>].  </li> <p />

  <li> Apply a globally-defined attribute from a schema other than
       VODataService (i.e. from a namespace other than
       "http://www.ivoa.net/xml/VODataService/v1.1") to any of the
       <code>&lt;tableset&gt;</code>, <code>&lt;schema&gt;</code>,
       <code>&lt;table&gt;</code>, and/or <code>&lt;column&gt;</code>
       elements.  </li> <p />

  <li> When the extended metadata is specific to how the table data is
       accessed via a particular service protocol, then the new
       metadata can be incorporated into a specific <em>capability
       extension</em> (as described in the VOResource specification
       [<a href="#VOR">VOR</a>]).  This extension may make use of the
       various names within the <code>&lt;tableset&gt;</code> to
       indicate where the extension metadata apply.  </li> <p />

  <li> Use the <code>extendedType</code> attribute of the
       <code>&lt;dataType&gt;</code> element (see 
       <a href="#extdatatypes">section 3.5.3</a>)
       to indicate a more specific data type then those defined by the
       <code>vs:TableParam</code> type.  </li>
</ol>

<a name="paramif">
<h3>3.4.  Interface Type Extension: ParamHTTP</h3></a>

<p>
The <code>vs:ParamHTTP</code> type is specialized service interface
description that extends the VOResource <code>vr:Interface</code> type 
(as recommended by [<a href="#VOR">VOR</a>], section 2.3.2).  It
describes a service interface that is invoke over HTTP via a GET or a
POST [<a href="#HTTP">HTTP</a>] in which the inputs are parameters
encoded as <em>name=value</em> pairs, delimited by ampersands
(<code>&amp;</code>) and URL-encoded [<a href="#URI">URI</a>].  When
the service is invoked as a GET service, this input list is appended
to a base URL (where the result must form a legal URL.  Usually, the
URL contains a question mark (<code>?</code>) setting off a list of
URL arguments to the URL: 
</p>

<div class="exampleOuter">
<a name="get-request">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">A service that takes 3 parameters:
<code>ra</code>, <code>dec</code>, <code>radius</code></div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>   http://data.archive.edu/cgi-bin/search?ra=12.32&dec=-10.3&radius=0.1</pre>
</div></div>

<p>
When the service is invoked as a POST, the encoded list of parameters
are uploaded to the service as the HTTP Message Body.  
</p>

<div class="exampleOuter">
<a name="post-request">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">The <a href="#get-request">above GET
request example</a> shown as an HTTP POST message.
</div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>POST /cgi-bin/search
User-Agent: Python script
Content-Type: application/x-www-form-urlencoded
Content-Lenth: 29

ra=12.32&dec=-10.3&radius=0.1
</pre>
</div></div>

<p>
The <code>vs:ParamHTTP</code> type is intended for (but not limited
to) use in describing an interface within a VOResource description of
a service capability (as described in [<a href="#VOR">VOR</a>],
section 2.2.2); that is, it can be invoked via the
<code>xsi:type</code> attribute on an <code>&lt;interface&gt;</code>
element. 
</p>

<div class="schemaOuter">
<a name="s:ParamHTTP">
</a><div class="schemaHeader">vs:ParamHTTP Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="ParamHTTP"&gt;
   &lt;xs:complexContent&gt;
      &lt;xs:extension base="vr:Interface"&gt;
         &lt;xs:sequence&gt;

            &lt;xs:element name="queryType" type="vs:HTTPQueryType" 
                        minOccurs="0" maxOccurs="2"/&gt;
            &lt;xs:element name="resultType" type="xs:token" 
                        minOccurs="0" maxOccurs="1"/&gt;
            &lt;xs:element name="param" type="vs:InputParam" minOccurs="0" 
                         maxOccurs="unbounded"/&gt;

         &lt;/xs:sequence&gt;
      &lt;/xs:extension&gt;
   &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
The extension metadata defined in the schema definition above are all
optional.  Nevertheless, even when an <code>&lt;interface&gt;</code>
instance does not include any of these extended child elements, the
use of <code>xsi:type="vs:ParamHTTP"</code> indicates that the interface
accessed via the URL given by the <code>&lt;accessURL&gt;</code>
element complies with the general parameter-based protocol described
in this section.  
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:ParamHTTP Extension Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">queryType</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with controlled values: 
<code>vs:HTTPQueryType</code> </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The type of HTTP request
supported by the interface, either <code>GET</code> or <code>POST</code>. </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; 2 occurrences are allowed to
indicate that both GET and POST are supported </td>
          </tr>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>
              <td valign="top"><code>GET</code> or <code>POST</code></td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">resultType</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">a string in MIME type format:  
<code>xs:token</code> </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The MIME type of a document returned in the HTTP response. </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">param</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">composite:
                  <code><a href="#s:InputParam">vs:InputParam</a></code>
              </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a description of an input parameter
                  that can be provided as a <em>name=value</em> argument to
                  the service. </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">See <a href="#param">section 3.5</a> for the 
              description of this element's contents. </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
A important intended use of the <code>vs:ParamHTTP</code> type is
describing the interface of an IVOA standard service protocol 
of the "simple" variety, such as the Simple Image Access Protocol
[<a href="#SIA">SIA</a>].  In particular, it is recommended that
specifications that define how a standard service is registered in a
registry <em>require</em> the use of the <code>vs:ParamHTTP</code>
interface type when it is applicable.
</p>

<p>
Normally, a VOResource
description indicates its support for a standard protocol with
<code>&lt;capability&gt;</code> element having a
<code>standardID</code> attribute set to specific URI representing the
standard.  The standard will usually spell out the HTTP query type,
the returned MIME type, and input parameters required for compliance;
therefore, it is not necessary that the <code>vs:ParamHTTP</code>
description provide any of the optional extended metadata, as they are
already implied by the <code>standardID</code>.  The description need
only reflect the optional or locally unique features of the
interface.  In particular, description may include
</p>

<ul>
  <li> a <code>&lt;queryType&gt;</code> element for a type that is not
  required by the standard (as long as the required query type is
  supported as well), </li>  <p />

  <li> <code>&lt;param&gt;</code> elements for any optional parameters
       or local extended parameters (when allowed by the standard).  </li>
</ul>

<p>
Of course, listing required parameters is always allowed, even when
describing a standard interface as long as these are consistent with
the service specification and the corresponding <code>&lt;param&gt;</code>
elements include the attribute <code>use="required"</code> (see
<a href="#inputparam">3.5.1</a>).  The <code>&lt;param&gt;</code>
elements for custom parameters that are not part of the standard (but
are rather local customizations) should include the attribute
<code>std="false"</code>.  
</p>




<a name="param">
<h3>3.5.  Data Parameters</h3></a>

<p>
The VODataService schema provides several element types for describing
different kinds of data parameters used in datasets and services,
including service input parameters and table columns.  The parameter
types allow one to fully describe a parameter in terms of metadata
that includes name, data type, and meaning.  
</p>

<p><a name="d:BaseParam"></a>
All the VODataService parameter types derive from a base type called
<code>vs:BaseParam</code> which defines all the common parameter
metadata except the data type.  
</p>

<div class="schemaOuter">
<a name="s:BaseParam">
</a><div class="schemaHeader">vs:BaseParam Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="BaseParam"&gt;
   &lt;xs:sequence&gt;

      &lt;xs:element name="name" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="description" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="unit" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="ucd" type="xs:token" minOccurs="0"/&gt;
      &lt;xs:element name="utype" type="xs:token" minOccurs="0"/&gt;

   &lt;/xs:sequence&gt;
   &lt;xs:anyAttribute namespace="##other" /&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:BaseParam Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">name</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The name of the column.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">description</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a free-text description of the column's contents</td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">unit</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the unit associated with
all values associated with this parameter or table column.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">ucd</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the name of a unified content descriptor that
                  describes the scientific content of the parameter.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               There are no requirements for compliance with any 
               particular UCD standard.  The format of the UCD can
               be used to distinguish between UCD1, UCD1+, and
               SIA-UCD.  See [<a href="#UCD">UCD</a>] for the 
               latest IVOA standard set. </td>  
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">utype</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"> string: <code>xs:token</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">an identifier for a concept in a data model that
                  the data in this schema as a whole represent.</td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
               The format defined in the VOTable standard, section 4.1
               [<a href="#VOTable">VOTable</a>] is strongly
               recommended; see <a href="#n:utypefmt">"Note on UType
               Format"</a> above. </td>  
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p><a name="d:DataType"></a>
Leaving the data type metadatum out of <code>vs:BaseParam</code>
allows the different kinds of parameters derived from
<code>vs:BaseParam</code> to restrict the allowed data types to
specific sets.  The subsections below describe the different data
types associated with input parameters
(<a href="#d:InputParam"><code>vs:InputParam</code></a>) and table
columns (<a href="#d:InputParam"><code>vs:TableParam</code></a>).  The
XML types associated with their <code>&lt;dataType&gt;</code> elements
derive from a common parent, <code>vs:DataType</code>.

<div class="schemaOuter">
<a name="s:BaseParam">
</a><div class="schemaHeader">vs:DataType Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="DataType"&gt;
   &lt;xs:simpleContent&gt;
     &lt;xs:extension base="xs:token"&gt;
         &lt;xs:attribute name="arraysize" type="vs:ArrayShape" default="1"/&gt;
         &lt;xs:attribute name="delim" type="xs:string" default=" "/&gt;
         &lt;xs:attribute name="extendedType" type="xs:string"/&gt;
         &lt;xs:attribute name="extendedSchema" type="xs:anyURI"/&gt;
         &lt;xs:anyAttribute namespace="##other" /&gt;
     &lt;/xs:extension&gt;
   &lt;/xs:simpleContent&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
The content of a data type element of this type is the name of the
data type for the current parameter.  When the element is explicitly
a <code>vs:DataType</code> (as opposed to one of its derived types),
there are no restrictions on the names that may be included.  
</p>

<p>
A data type description can be augmented via a common set of
<code>vs:DataType</code> attributes, defined below.  The
<code>arraysize</code> attribute indicates the parameter is an array
of values of the named type.  It's value describes the shape of the
array, and the <code>delim</code> attribute may be used to indicate
the delimiter that should appear between elements of an array value.
Depending on the application context, these attribute may not be
enough to effectively parse the array values, in which case, more
information must be brought to bear either through assumptions about
a particular derived <code>vs:DataType</code> or through additional
attributes.  
</p>

<p>
More descriptive information about the type can be provided via the
<code>extendedType</code> and <code>extendedSchema</code>, which
provide an alternate data type name.  It's expected that this name
will only be understood by a special subset of applications.  The name
given in the element content, then, represents a more commonly
understood "fall-back" type.   Arbitrary information can also be
provided via any prefix-qualified, globally defined attribute drawn
from an XML Schema other than VODataService (by virtue of the
<code>xs:anyAttribute</code> specification shown
<a href="#s:DataType">above</a>).  
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:DataType Attributes</th>
  </tr><tr><th>Attribute</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top"><code>arraysize</code></td>
      <td valign="top"><table border="0" width="100%">

          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">the <a href="#VOTable">VOTable</a> arraysize
                format (<code>vs:ArrayShape)</code>:
                <i>L</i><code>x</code><i>M</i><code>x</code><i>N...</i>,
                where each <code>x</code>-delimited positive integer
                is a length along a dimension of a multi-dimensional array.  A
                single integer indicates a one dimensional array.
                Instead of an integer, the last length can be set to
                "<code>*</code>" which indicates a variable length.  
              </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The attribute's presence
              indicates that parameter holds an array values; the
              attribute's value indicates the length of the array along 
              each dimension of the multi-dimensional array.</td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap"
              valign="top"><em>Default Value:</em></td>
              <td valign="top" width="90%">1 (i.e. the parameter value
              is scalar)</td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top"><code>delim</code></td>
      <td valign="top"><table border="0" width="100%">

          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string: <code>xs:string</code></td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">the string that is used to delimit
              element of an array value when <code>arraysize</code> is
              not "1".</td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap"
              valign="top"><em>Comments:</em></td>
              <td valign="top" width="90%">Unless specifically
              disallowed by the context, applications should allow
              optional spaces to appear in an actual data value
              before and after the delimiter (e.g. "1, 5" when delim=",").</td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top"><code>extendedType</code></td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string: <code>xs:string</code>.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>

              <td valign="top" width="90%">The data value represented by this type can be
                     interpreted as of a custom type identified by 
                     the value of this attribute. </td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
                  The name implies a particular expected format for
                  the data value that can be parsed into a value in
                  memory. <p />
                  If an application does not recognize this
                     extendedType, it should attempt to handle value
                     assuming the type given by the element's value.
                     "string" (or its equivalent) is a recommended
                     default type. <p />
                  This element may make use of the extendedSchema
                     attribute and/or any arbitrary (qualified)
                     attribute to refine the identification of the 
                     type.
              </td>
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top"><code>extendedSchema</code></td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">URI: <code>xs:anyURI</code>.</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>

              <td valign="top" width="90%">An identifier for the
                     schema that the value given by the extended
                     attribute is drawn from. </td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
                 This attribute is normally ignored if the
                     extended element is not present.
              </td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
Note that in the derived parameter description types described below,
the <code>&lt;dataType&gt;</code> element is optional.  Its absence
from the parameter description does <em>not</em> mean that the
parameter can support any data type; rather, it means that the data
type simply has not been provided (which may limit what an application
can do with the parameter).  If a parameter can truly support any data
type, the <code>vs:BaseParam</code> type can be used directly when the
context permits.  
</p>

<a name="inputparam">
<h4>3.5.1.  Input Parameters</h4></a>

<p>
Actual parameters are normally described with types derived from
<code>vs:BaseParam</code>.  The <code>vs:InputParam</code> is intended
for describing an input parameter to a service or function.  The
allowed data type names (given in the metadata table below) do not
imply a size or precise format; rather, it is intended to be
sufficient for describing an input paramter to a simple REST-like
service or a function in a weakly-typed (e.g. scripting) language.  
</p>

<div class="schemaOuter">
<a name="s:TableParam">
</a><div class="schemaHeader">vs:InputParam Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="InputParam"&gt;
   &lt;xs:complexContent&gt;
      &lt;xs:extension base="vs:BaseParam"&gt;
         &lt;xs:sequence&gt;
            &lt;xs:element name="dataType" type="vs:SimpleDataType" 
                        minOccurs="0"/&gt;
         &lt;/xs:sequence&gt;

         &lt;xs:attribute name="use" type="vs:ParamUse" default="optional"/&gt;
         &lt;xs:attribute name="std" type="xs:boolean" default="true"/&gt;
      &lt;/xs:extension&gt;
   &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
By fixing the <code>&lt;dataType&gt;</code> child element to of the
<code>vs:SimpleDataType</code>, the possbile types are restricted to
predefined set appropriate for input parameters.
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:InputParam Extension Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">dataType</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with optional attributes: 
<code>vs:SimpleDataType</code> </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em></td>
              <td valign="top" width="90%">a type of data contained in the column. </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>
              <td valign="top">The following type names correspond to
                the same data types defined in the VOTable standard
                [<a href="#VOTable">VOTable</a>]:
                <code>boolean</code>, 
                <code>char</code>, 
                <code>integer</code>, 
                <code>real</code>, and 
                <code>complex</code>.
                The additional type, <code>string</code>, is
                equivalent to <code>char</code> when the attribute
                <code>arrayshape="*"</code>.  </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
The <code>vs:InputParam</code> type accepts two attributes that
indicate the role that the parameter plays as input to the service or
function:
</p>

<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:InputParam Attributes </th>
  </tr><tr><th>Attribute</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top"><code>use</code></td>
      <td valign="top"><table border="0" width="100%">

          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with controlled values: <code>vs:ParamUse</code>
              </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">An indication of whether this parameter is
                     required to be provided for the application
                     or service to work properly.</td>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>
              <td valign="top"><table border="0" width="100%">
                 <tbody><tr><td valign="top"><code>required</code></td><td />
                     <td valign="top">the parameter must be provided.</td></tr>
                 <tr><td valign="top"><code>optional</code></td> <td />
                     <td>the parameter need not be provided (default).</td></tr>
              </tbody></table>
              </td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top"><code>std</code></td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top"><code>true</code> or <code>false</code> (<code>xs:boolean</code>)</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>

              <td valign="top" width="90%">
                 If true, the meaning and behavior of this parameter is
                 reserved and defined by a standard interface.  If
                 false, it represents an implementation-specific
                 parameter that effectively extends the behavior of the 
                 service or application.  The default is true.
              </td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>



<p />

<div class="exampleOuter">
<a name="e:param">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">A description
of an input parameter that might appear inside an
<code>vs:ParamHTTP</code> interface description.  As noted in
<a href="#paramif">section 3.4</a>, a <code>&lt;param&gt;</code>
element uses the <code>vs:InputParam</code> type to describe itself. </div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>&lt;param use="required"&gt;
  &lt;name&gt; radius &lt;/name&gt;
  &lt;description&gt;
    search radius; returned objects are restricted to fall 
    within this angular distance of the search position.
  &lt;/description&gt;
  &lt;ucd&gt; phys.angSize &lt;/ucd&gt;
  &lt;dataType&gt; real &lt;/dataType&gt;
&lt;/param&gt;
</pre>
</div></div>

<a name="columns">
<h4>3.5.2.  Table Columns</h4></a>

<p>
The <code>vs:TableParam</code> is also derived from
<code>vs:BaseParam</code>, and is designed for describing a column of
a table.
</p>

<div class="schemaOuter">
<a name="s:TableParam">
</a><div class="schemaHeader">vs:TableParam Type Schema Definition</a></div>
<div class="schemaInner">
<pre>&lt;xs:complexType name="TableParam"&gt;
   &lt;xs:complexContent&gt;
      &lt;xs:extension base="vs:BaseParam"&gt;
         &lt;xs:sequence&gt;

            &lt;xs:element name="dataType" type="vs:TableDataType" 
                        minOccurs="0"/&gt;
            &lt;xs:element name="flag" type="xs:token" 
                        minOccurs="0" maxOccurs="unbounded"/&gt;

         &lt;/xs:sequence&gt;

         &lt;xs:attribute name="std" type="xs:boolean"/&gt;
      &lt;/xs:extension&gt;
   &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name="TableDataType" abstract="true"&gt;
   &lt;xs:simpleContent&gt;
     &lt;xs:extension base="vs:DataType"/&gt;
   &lt;/xs:simpleContent&gt;
&lt;/xs:complexType&gt;
</pre>
</div></div>

<p>
A table column's data type is indicated with the <code>&lt;dataType&gt;</code>
element with a name drawn from a standard set of names.  The
<code>vs:TableParam</code> type is not restricted to a single standard
set, and the VODataService schema defines two standard sets: one
corresponding to VOTable data types [<a href="#VOTable">VOTable</a>]
and one for Table Access Protocol types.  Because the
its XML type, <code>vs:TableDataType</code> is abstract, the
<code>&lt;dataType&gt;</code> element MUST include an
<code>xsi:type</code> attribute to indicate which standard set of type
names is being used.  
</p>

<div class="exampleOuter"><a name="ex:TableParam-1"></a>
<a name="post-request">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">A declination column called "Dec" is
defined to have the VOTable-defined type, double
</div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>&lt;column&gt;
   &lt;name&gt; Dec &lt;/name&gt;
   &lt;description&gt; the J2000 declination of the object &lt;/description&gt;
   &lt;ucd&gt; pos.eq.dec &lt;/ucd&gt;
   &lt;dataType xsi:type="vs:VOTable"&gt; double &lt;/dataType&gt;
&lt;/column&gt;
</pre>
</div></div>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">vs:TableParam Extension Metadata Elements</th>
  </tr><tr><th>Element</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">dataType</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with a required <code>xsi:type</code>
                 attribute and additional optional attributes: 
                 <code>vs:TableDataType</code> </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em></td>
              <td valign="top" width="90%">a type of data contained in the column. </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>
              <td valign="top">The allowed type names are determined
                by value of the <code>xsi:type</code>; see
                <a href="#tbldatatypes">section 3.5.3</a> below.</td> 
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">flag</td>
      <td valign="top"><table border="0" width="100%">
          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">string with optional attributes: 
<code>vs:TableDataType</code> </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">a keyword representing
                   traits of the column.  </td>
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional; multiple occurrences allowed</td>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Recommended Values:</em></td>
              <td valign="top"><table border="0" width="100%">
                 <tbody><tr><td valign="top"><code>indexed</code></td><td />
                     <td valign="top">The column has an index on it
for faster search against its values.</td></tr>
                 <tr><td valign="top"><code>primary</code></td><td />

                     <td valign="top">The values column in the column
                         represents in total or in part a primary key
                         for its table.</td></tr>
                 <tr><td valign="top"><code>nullable</code></td><td />
                     <td>the column may contain null or empty values.</td></tr> 
              </tbody></table>
              Other values are allowed.
              </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<!--
                the same data types defined in the VOTable standard
                [<a href="#VOTable">VOTable</a>]:
                
                The additional types, <code>string</code> and
                <code>unicodeString</code>, are equivalent 
                the VOTable data types <code>char</code> and 
                <code>unicodeChar</code> when
                <code>arrayshape="*"</code>.  
  -->

<a name="tbldatatypes">
<h4>3.5.3.  Table Column Data Types</h4></a>

<p>
The VODataService schema defines two XML types that derive from
<code>vs:TableDataType</code>:  <code>vs:VOTable</code> and
<code>vs:TAP</code>.  
</p>

<p>
<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">Data Types derived from vs:TableDataType</th>
  </tr><tr><th>Value for <br>
               xsi:type</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top">vs:VOTable</td>
      <td valign="top"><table border="0" width="100%">
          <tbody>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">data types that correspond
                 to the parameter and column types defined in the
                 VOTable schema [<a href="#VOTable">VOTable</a>]. </td>
          </tr>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>
              <td valign="top"><code>boolean</code>, 
                <code>bit</code>, 
                <code>unsignedByte</code>, 
                <code>short</code>, 
                <code>int</code>, 
                <code>long</code>, 
                <code>char</code>, 
                <code>unicodeChar</code>, 
                <code>float</code>, 
                <code>double</code>, 
                <code>floatComplex</code>, and 
                <code>doubleComplex</code>.  String values of
                  arbitrary length are represent by a value of
                  <code>char</code> with <code>arraysize="*"</code></td>  
          </tr></tbody></table>
      </td></tr>
  <tr><td valign="top">vs:TAP</td>
      <td valign="top"><table border="0" width="100%">
          <tbody>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">data types that correspond
                 column types defined in the Table Access Protocol (v1.0)
                 [<a href="#TAP">TAP</a>]. </td>
          </tr>
          </tr><tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Allowed Values:</em></td>
              <td valign="top"><code>BOOLEAN</code>,
                <code>SMALLINT</code>,
                <code>INTEGER</code>,
                <code>BIGINT</code>,
                <code>REAL</code>,
                <code>DOUBLE</code>,
                <code>TIMESTAMP</code>,
                <code>CHAR</code>,
                <code>VARCHAR</code>,
                <code>BINARY</code>,
                <code>VARBINARY</code>,
                <code>POINT</code>,
                <code>REGION</code>,
                <code>CLOB</code>, and 
                <code>BLOB</code>.  String values are represented via
                <code>VARCHAR</code>.
              </td> 
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>
</p>

<p>
The <code>vs:TAP</code> XML type provides an additional attribute,
<code>size</code> corresponding to the "size" column from the
TAP_SCHEMA.columns defined by <a href="#TAP">TAP</a>:
</p>

<table border="2" width="100%">
<thead>
  <tr><th colspan="2" align="left">Additional Attribute for the vs:TAP
set of column data types</th>
  </tr><tr><th>Attribute</th><th>Definition</th>
</tr></thead>
<tbody>
  <tr><td valign="top"><code>size</code></td>
      <td valign="top"><table border="0" width="100%">

          <tbody><tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Value type:</em></td>
              <td valign="top">a positive integer:
                               <code>xs:positiveInteger</code>
              </td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Semantic Meaning:</em></td>
              <td valign="top" width="90%">The length of the variable-length
                 data type.</td> 
          </tr>
          <tr bgcolor="#f5f5f5"><td nowrap="nowrap" valign="top"><em>Occurrences:</em></td>
              <td valign="top">optional</td>
          </tr>
          <tr bgcolor="#dddddd"><td nowrap="nowrap" valign="top"><em>Comments:</em></td>
              <td valign="top">
                  In the context of TAP, this attribute is only meaning when
                  the data type is <code>CHAR</code> or <code>BINARY</code>; see
                  discussion below.
              </td>
          </tr></tbody></table>
      </td></tr>
</tbody>
</table>

<p>
<div class="exampleOuter"><a name="ex:TableParam-2"></a>
<a name="post-request">
</a><div class="exampleHeader">Example</div>
<div class="exampleWrapper">a representation of a string type using the
<code>vs:VOTable</code> set of types:
</div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>&lt;column&gt;
   &lt;name&gt; id &lt;/name&gt;
   &lt;description&gt; the object identifier &lt;/description&gt;
   &lt;ucd&gt; meta.id &lt;/ucd&gt;
   &lt;dataType xsi:type="vs:VOTable" arraysize="*"&gt; char &lt;/dataType&gt;
&lt;/column&gt;
</pre>
</div>
<div class="exampleWrapper">the same column described using the
<code>vs:TAP</code> set of types:
</div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>&lt;column&gt;
   &lt;name&gt; id &lt;/name&gt;
   &lt;description&gt; the object identifier &lt;/description&gt;
   &lt;ucd&gt; meta.id &lt;/ucd&gt;
   &lt;dataType xsi:type="vs:TAP"&gt; VARCHAR &lt;/dataType&gt;
&lt;/column&gt;
</pre>
</div>
<div class="exampleWrapper">the same column again described using the
<code>vs:TAP</code> set of types, assuming a fixed-length string:
</div>
<div class="exampleInner" style="background-color: rgb(213, 222, 227);">
<pre>&lt;column&gt;
   &lt;name&gt; id &lt;/name&gt;
   &lt;description&gt; the object identifier &lt;/description&gt;
   &lt;ucd&gt; meta.id &lt;/ucd&gt;
   &lt;dataType xsi:type="vs:TAP" size="8" &gt; CHAR &lt;/dataType&gt;
&lt;/column&gt;
</pre>
</div></div>
</p>

<p>
In general, the <code>vs:TableParam</code>'s <code>&lt;dataType&gt;</code>
can support any non-abstract type legally derived from
<code>vs:TableDataType</code>.  However, in the context of a
<code>vs:DataCollection</code> or <code>vs:CatalogService</code>
resource description, it is strongly recommended either
<code>vs:VOTable</code> or <code>vs:TAP</code> (or some other IVOA
standard type derived from <code>vs:TableDataType</code>) be used to
ensure maximum interoperability.  When the actual column type is not
well matched to a type from one of these standard sets, authors are
encouraged to use the <code>extendedType</code> attribute to refer to
a more specific type.  Note that the TAP standard
[<a href="#TAP">TAP</a>] defines an explicit mapping between
TAP_SCHEMA types and VOTable types.  Thus, in the context of a
<code>vs:CatalogService</code> resource description that supports a
TAP capability (perhaps in addition to other catalog services like
Simple Cone Search [<a href="#TAP">SCS</a>]), use of the
<code>vs:TAP</code> data type is preferred.
</p>

<p>
</p><blockquote>
<table bgcolor="#dddddd" border="2" cellpadding="5"><tbody><tr><td>
<dl>
  <dt> <strong>Note:</strong> </dt>
  <dd> The motivation for providing two standard data type sets,
       <code>vs:VOTable</code> and <code>vs:TAP</code>, is to maximize
       the ease of generating the table description, particular as
       part of the VO Standard Interface [<a href="#VOSI">VOSI</a>]
       and for legacy services.  The table description for
       "stand-alone" SIA, SCS, and SSA services can be readily
       generated using the <code>vs:VOTable</code> data types from
       these interface's respective metadata queries.  Newer services
       supporting TAP could generate its description using its
       TAP_SCHEMA queries.

       <p>
       The motivation for specifying a column's data type using the
       <code>xsi:type</code> mechanism is mainly to allow for the
       possibility that the official TAP data types will evolve.  This
       allows the IVOA to define new data type sets without updating
       the VODataService standard.  Using non-IVOA-standardized data
       type names is expected to undermine interoperability and so is
       therefore discouraged.  
       </p>
       </dd>
       
</dl>
</td></tr></tbody></table>
</blockquote>



<a name="appA">
<h2>Appendix A:  The VODataService XML Schema</h2></a>

<div class="schemaOuter">
<a name="s:VOResource">
</a><div class="schemaHeader"><a name="s:VOResource">The Complete VOResource Schema</a></div>
<div class="schemaInner">
<pre><a name="s:VODataService">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema targetNamespace="http://www.ivoa.net/xml/VODataService/v1.1" 
           xmlns:xs="http://www.w3.org/2001/XMLSchema" 
           xmlns:vr="http://www.ivoa.net/xml/VOResource/v1.0" 
           xmlns:vs="http://www.ivoa.net/xml/VODataService/v1.1" 
           xmlns:stc="http://www.ivoa.net/xml/STC/stc-v1.30.xsd" 
           xmlns:vm="http://www.ivoa.net/xml/VOMetadata/v0.1"
           elementFormDefault="unqualified" attributeFormDefault="unqualified"
           version="1.1wd8"&gt;

   &lt;xs:annotation&gt;
      &lt;xs:appinfo&gt;
        &lt;vm:schemaName&gt;VODataService&lt;/vm:schemaName&gt;
        &lt;vm:schemaPrefix&gt;xs&lt;/vm:schemaPrefix&gt;
        &lt;vm:targetPrefix&gt;vs&lt;/vm:targetPrefix&gt;
      &lt;/xs:appinfo&gt;
      &lt;xs:documentation&gt;
        An extension to the core resource metadata (VOResource) for 
        describing data collections and services.
      &lt;/xs:documentation&gt;
   &lt;/xs:annotation&gt;

   &lt;xs:import namespace="http://www.ivoa.net/xml/VOResource/v1.0"
              schemaLocation="http://www.ivoa.net/xml/VOResource/v1.0"/&gt;
   &lt;xs:import namespace="http://www.ivoa.net/xml/STC/stc-v1.30.xsd"
              schemaLocation="http://www.ivoa.net/xml/STC/stc-v1.30.xsd"/&gt;

   &lt;xs:complexType name="DataCollection"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           A logical grouping of data which, in general, is composed of one 
           or more accessible datasets.  A collection can contain any
           combination of images, spectra, catalogs, or other data.   
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
           (A dataset is a collection of digitally-encoded data that 
           is normally accessible as a single unit, e.g. a file.)
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vr:Resource"&gt;
            &lt;xs:sequence&gt;
 
              &lt;xs:element name="facility" type="vr:ResourceName" 
                          minOccurs="0" maxOccurs="unbounded"&gt;
                &lt;xs:annotation&gt;
                   &lt;xs:appinfo&gt;
                     &lt;vm:dcterm&gt;Subject&lt;/vm:dcterm&gt;
                   &lt;/xs:appinfo&gt;
                   &lt;xs:documentation&gt;
                     the observatory or facility used to collect the data 
                     contained or managed by this resource.  
                   &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="instrument" type="vr:ResourceName" 
                          minOccurs="0" maxOccurs="unbounded"&gt;
                &lt;xs:annotation&gt;
                   &lt;xs:appinfo&gt;
                     &lt;vm:dcterm&gt;Subject&lt;/vm:dcterm&gt;
                     &lt;vm:dcterm&gt;Subject.Instrument&lt;/vm:dcterm&gt;
                   &lt;/xs:appinfo&gt;
                   &lt;xs:documentation&gt;
                     the Instrument used to collect the data contain or 
                     managed by a resource.  
                   &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="rights" type="vr:Rights" 
                          minOccurs="0" maxOccurs="unbounded"&gt;
                 &lt;xs:annotation&gt;
                    &lt;xs:appinfo&gt;
                      &lt;vm:dcterm&gt;Rights&lt;/vm:dcterm&gt;
                    &lt;/xs:appinfo&gt;           
                    &lt;xs:documentation&gt;
                      Information about rights held in and over the resource.
                    &lt;/xs:documentation&gt;
                    &lt;xs:documentation&gt;
                      This should be repeated for all Rights values that apply.
                    &lt;/xs:documentation&gt;
                 &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="format" type="vs:Format" 
                          minOccurs="0" maxOccurs="unbounded"&gt;
                 &lt;xs:annotation&gt;
                    &lt;xs:documentation&gt;
                      The physical or digital manifestation of the information 
                      supported by a resource.
                    &lt;/xs:documentation&gt;
                    &lt;xs:documentation&gt;
                      MIME types should be used for network-retrievable, digital
                      data.  Non-MIME type values are used for media that cannot
                      be retrieved over the network--e.g. CDROM, poster, slides,
                      video cassette, etc.  
                    &lt;/xs:documentation&gt;
                 &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="coverage" type="vs:Coverage" minOccurs="0"&gt;
                &lt;xs:annotation&gt;
                   &lt;xs:documentation&gt;
                     Extent of the content of the resource over space, time, 
                     and frequency.
                   &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="tableset" type="vs:TableSet" minOccurs="0"&gt;
                 &lt;xs:annotation&gt;
                   &lt;xs:documentation&gt;
                     A description of the tables that are part of this
                     collection. 
                   &lt;/xs:documentation&gt;
                   &lt;xs:documentation&gt;
                     Each schema name and each table name must be
                     unique within this tableset.
                   &lt;/xs:documentation&gt;
                 &lt;/xs:annotation&gt;

                 &lt;xs:unique name="DataCollection-schemaName"&gt;
                    &lt;xs:selector xpath="schema" /&gt;
                    &lt;xs:field xpath="name" /&gt;
                 &lt;/xs:unique&gt;

                 &lt;xs:unique name="DataCollection-tableName"&gt;
                    &lt;xs:selector xpath="schema/table" /&gt;
                    &lt;xs:field xpath="name" /&gt;
                 &lt;/xs:unique&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="accessURL" type="vr:AccessURL" minOccurs="0"&gt;
                 &lt;xs:annotation&gt;
                   &lt;xs:documentation&gt;
                     The URL that can be used to download the data contained in 
                     this data collection.
                   &lt;/xs:documentation&gt;
                 &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

            &lt;/xs:sequence&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="Coverage"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           A description of how a resource's contents or behavior maps
           to the sky, to time, and to frequency space, including
           coverage and resolution. 
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:sequence&gt;

         &lt;xs:element ref="stc:STCResourceProfile" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 The STC description of the location of the resource's 
                 data (or behavior on data) on the sky, in time, and in 
                 frequency space, including resolution. 
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                 In general, this description should be approximate; a
                 more precise description can be provided by the 
                 footprint service.  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="footprint" type="vs:ServiceReference" 
                     minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  a reference to a footprint service for retrieving 
                  precise and up-to-date description of coverage.  
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  the ivo-id attribute refers to a Service record
                  that describes the Footprint capability.  That is,
                  the record will have a capability element describing
                  the service.  The resource refered to may be the 
                  current one.  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="waveband" type="vs:Waveband" 
                     minOccurs="0" maxOccurs="unbounded"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:appinfo&gt;
                 &lt;vm:dcterm&gt;Coverage.Spectral&lt;/vm:dcterm&gt;
               &lt;/xs:appinfo&gt;           
               &lt;xs:documentation&gt;
                  a named spectral region of the electro-magnetic spectrum 
                  that the resource's spectral coverage overlaps with.
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="regionOfRegard" type="xs:float" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:appinfo&gt;
                 &lt;vm:dcterm&gt;Coverage.RegionOfRegard&lt;/vm:dcterm&gt;
               &lt;/xs:appinfo&gt;           
               &lt;xs:documentation&gt;
                  a single numeric value representing the angle, given
                  in decimal degrees, by which a positional query
                  against this resource should be "blurred" in order
                  to get an appropriate match. 
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  In the case of image repositories, it might refer to
                  a typical field-of-view size, or the primary beam
                  size for radio aperture synthesis data.  In the case
                  of object catalogs RoR should normally be the
                  largest of the typical size of the objects, the
                  astrometric errors in the positions, or the
                  resolution of the data.  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

      &lt;/xs:sequence&gt;            
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="ServiceReference"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           the service URL for a potentially registerd service.  That is,
           if an IVOA identifier is also provided, then the service is 
           described in a registry.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:simpleContent&gt;
         &lt;xs:extension base="xs:anyURI"&gt; 

            &lt;xs:attribute name="ivo-id" type="vr:IdentifierURI"&gt;
               &lt;xs:annotation&gt;
                 &lt;xs:documentation&gt;
                   The URI form of the IVOA identifier for the service 
                   describing the capability refered to by this element.
                 &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;

         &lt;/xs:extension&gt;       
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;   

   &lt;xs:simpleType name="Waveband"&gt;
      &lt;xs:restriction base="xs:token"&gt;
         &lt;xs:enumeration value="Radio"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 wavelength &gt;= 10 mm; frequency &lt;= 30 GHz.
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="Millimeter"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 0.1 mm &lt;= wavelength &lt;= 10 mm; 
                 3000 GHz &gt;= frequency &gt;= 30 GHz.
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="Infrared"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 1 micron &lt;= wavelength &lt;= 100 micons 
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="Optical"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 0.3 microns &lt;= wavelength &lt;= 1 micon; 
                 300 nm &lt;= wavelength &lt;= 1000 nm; 
                 3000 Angstroms &lt;= wavelength &lt;= 10000 Angstroms
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="UV"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 0.1 microns &lt;= wavelength &lt;= 0.3 micon; 
                 1000 nm &lt;= wavelength &lt;= 3000 nm; 
                 1000 Angstroms &lt;= wavelength &lt;= 30000 Angstroms
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="EUV"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 100 Angstroms &lt;= wavelength &lt;= 1000 Angstroms; 
                 12 eV &lt;= energy &lt;= 120 eV
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="X-ray"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 0.1 Angstroms &lt;= wavelength &lt;= 100 Angstroms; 
                 0.12 keV &lt;= energy &lt;= 120 keV
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="Gamma-ray"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 energy &gt;= 120 keV
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
      &lt;/xs:restriction&gt;
   &lt;/xs:simpleType&gt;

   &lt;xs:complexType name="TableSet"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           The set of tables hosted by a resource.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:sequence&gt;

         &lt;xs:element name="schema" type="vs:TableSchema" 
                     minOccurs="1" maxOccurs="unbounded"&gt;
            &lt;xs:annotation&gt;
              &lt;xs:documentation&gt;
                A named description of a set of logically related tables.
              &lt;/xs:documentation&gt;
              &lt;xs:documentation&gt;
                The name given by the "name" child element must
                be unique within this TableSet instance.  If there is
                only one schema in this set and/or there's no locally
                appropriate name to provide, the name can be set to
                "default".  
              &lt;/xs:documentation&gt;
              &lt;xs:documentation&gt;
                This aggregation does not need to map to an
                actual database, catalog, or schema, though the
                publisher may choose to aggregate along such
                designations, or particular service protocol may
                recommend it.  
              &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

      &lt;/xs:sequence&gt;

      &lt;xs:anyAttribute namespace="##other" /&gt;
   &lt;/xs:complexType&gt;
  
   &lt;xs:complexType name="TableSchema"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           A detailed description of a logically-related set of tables
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:sequence&gt;
         &lt;xs:element name="name" type="xs:token" minOccurs="1" maxOccurs="1"&gt;
           &lt;xs:annotation&gt;
             &lt;xs:documentation&gt;
               A name for the set of tables.  
             &lt;/xs:documentation&gt;
             &lt;xs:documentation&gt;
               This is used to uniquely identify the table set among
               several table sets.  If a title is not present, this
               name can be used for display purposes.
             &lt;/xs:documentation&gt;
             &lt;xs:documentation&gt;
               If there is no appropriate logical name associated with
               this set, the name should be explicitly set to
               "default".  
             &lt;/xs:documentation&gt;
           &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;
          
         &lt;xs:element name="title" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  a descriptive, human-interpretable name for the table set.
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  This is used for display purposes.  There is no requirement
                  regarding uniqueness.  It is useful when there are
                  multiple schemas in the context (e.g. within a
                  tableset; otherwise, the resource title could be
                  used instead).
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="description" type="xs:token" 
                     minOccurs="0" maxOccurs="1"&gt;
           &lt;xs:annotation&gt;
             &lt;xs:documentation&gt;
               A free text description of the tableset that should
               explain in general how all of the tables are related.
             &lt;/xs:documentation&gt;
           &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="utype" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  an identifier for a concept in a data model that
                  the data in this schema as a whole represent.  
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  The format defined in the VOTable standard is strongly
                  recommended. 
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="table" type="vs:Table" 
                     minOccurs="0" maxOccurs="unbounded"&gt;
           &lt;xs:annotation&gt;
             &lt;xs:documentation&gt;
               A description of one of the tables that makes up the set.
             &lt;/xs:documentation&gt;
             &lt;xs:documentation&gt;
               The table names for the table should be unique.
             &lt;/xs:documentation&gt;
           &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

      &lt;/xs:sequence&gt;

      &lt;xs:anyAttribute namespace="##other" /&gt;
   &lt;/xs:complexType&gt;
  
   &lt;xs:complexType name="Format"&gt;
      &lt;xs:simpleContent&gt;
         &lt;xs:extension base="xs:token"&gt;
           &lt;xs:attribute name="isMIMEType" type="xs:boolean" default="false"&gt;
             &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                 if true, then the content is a MIME Type
               &lt;/xs:documentation&gt;
             &lt;/xs:annotation&gt;
           &lt;/xs:attribute&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="DataService"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           A service for accessing astronomical data
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vr:Service"&gt;
            &lt;xs:sequence&gt;
              &lt;xs:element name="facility" type="vr:ResourceName" 
                          minOccurs="0" maxOccurs="unbounded"&gt;
                &lt;xs:annotation&gt;
                   &lt;xs:appinfo&gt;
                     &lt;vm:dcterm&gt;Subject&lt;/vm:dcterm&gt;
                   &lt;/xs:appinfo&gt;
                   &lt;xs:documentation&gt;
                     the observatory or facility used to collect the data 
                     contained or managed by this resource.  
                   &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="instrument" type="vr:ResourceName" 
                          minOccurs="0" maxOccurs="unbounded"&gt;
                &lt;xs:annotation&gt;
                   &lt;xs:appinfo&gt;
                     &lt;vm:dcterm&gt;Subject&lt;/vm:dcterm&gt;
                     &lt;vm:dcterm&gt;Subject.Instrument&lt;/vm:dcterm&gt;
                   &lt;/xs:appinfo&gt;
                   &lt;xs:documentation&gt;
                     the Instrument used to collect the data contain or 
                     managed by a resource.  
                   &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

              &lt;xs:element name="coverage" type="vs:Coverage" minOccurs="0"&gt;
                &lt;xs:annotation&gt;
                   &lt;xs:documentation&gt;
                     Extent of the content of the resource over space, time, 
                     and frequency.
                   &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
              &lt;/xs:element&gt;

            &lt;/xs:sequence&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="ParamHTTP"&gt;
      &lt;xs:annotation&gt;
        &lt;xs:documentation&gt;
           A service invoked via an HTTP Query (either Get or Post)
           with a set of arguments consisting of keyword name-value pairs.
        &lt;/xs:documentation&gt;
        &lt;xs:documentation&gt;
           Note that the URL for help with this service can be put into
           the Service/ReferenceURL element.
        &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vr:Interface"&gt;
            &lt;xs:sequence&gt;
               &lt;xs:element name="queryType" type="vs:HTTPQueryType" 
                           minOccurs="0" maxOccurs="2"&gt;
                  &lt;xs:annotation&gt;
                     &lt;xs:documentation&gt;
                       The type of HTTP request, either GET or POST.
                     &lt;/xs:documentation&gt;
                     &lt;xs:documentation&gt;
                       The service may indicate support for both GET
                       and POST by providing 2 queryType elements, one
                       with GET and one with POST.
                     &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;
               &lt;/xs:element&gt;

               &lt;xs:element name="resultType" type="xs:token" 
                           minOccurs="0" maxOccurs="1"&gt;
                  &lt;xs:annotation&gt;
                     &lt;xs:documentation&gt;
                       The MIME type of a document returned in the HTTP response.
                     &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;
               &lt;/xs:element&gt;

               &lt;xs:element name="param" type="vs:InputParam" minOccurs="0" 
                            maxOccurs="unbounded"&gt;
                  &lt;xs:annotation&gt;
                    &lt;xs:documentation&gt;
                       a description of a input parameter that can be 
                       provided as a name=value argument to the service.  
                    &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;
               &lt;/xs:element&gt;

            &lt;/xs:sequence&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:simpleType name="HTTPQueryType"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           The type of HTTP request, either GET or POST.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;
      &lt;xs:restriction base="xs:token"&gt;
         &lt;xs:enumeration value="GET"/&gt;
         &lt;xs:enumeration value="POST"/&gt;
      &lt;/xs:restriction&gt;
   &lt;/xs:simpleType&gt;

   &lt;xs:complexType name="CatalogService"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            A service that interacts with with astronomical data
            through one or more specified tables.
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
            A table with sky coverage typically have columns that give
            longitude-latitude positions in some coordinate system.  
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vs:DataService"&gt;
            &lt;xs:sequence&gt;
               &lt;xs:element name="tableset" type="vs:TableSet" minOccurs="0"&gt;
                  &lt;xs:annotation&gt;
                     &lt;xs:documentation&gt;
                       A description of the tables that are accessible
                       through this service.
                     &lt;/xs:documentation&gt;
                     &lt;xs:documentation&gt;
                       Each schema name and each table name must be
                       unique within this tableset.
                     &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;

                 &lt;xs:unique name="CatalogService-schemaName"&gt;
                    &lt;xs:selector xpath="schema" /&gt;
                    &lt;xs:field xpath="name" /&gt;
                 &lt;/xs:unique&gt;

                 &lt;xs:unique name="CatalogService-tableName"&gt;
                    &lt;xs:selector xpath="schema/table" /&gt;
                    &lt;xs:field xpath="name" /&gt;
                 &lt;/xs:unique&gt;
               &lt;/xs:element&gt;
            &lt;/xs:sequence&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="Table"&gt;
      &lt;xs:sequence&gt;
         &lt;xs:element name="name" type="xs:token" 
                     minOccurs="1" maxOccurs="1"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  the fully qualified name of the table.  This name 
                  should include all catalog or schema prefixes
                  needed to sufficiently uniquely distinguish it in a
                  query.  
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  In general, the format of the qualified name may
                  depend on the context; however, when the
                  table is intended to be queryable via ADQL, then the
                  catalog and schema qualifiers are delimited from the
                  table name with dots (.).  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="title" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  a descriptive, human-interpretable name for the table.
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  This is used for display purposes.  There is no requirement
                  regarding uniqueness.  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="description" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  a free-text description of the table's contents
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="utype" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  an identifier for a concept in a data model that
                  the data in this table represent.  
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  The format defined in the VOTable standard is highly
                  recommended. 
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="column" type="vs:TableParam" 
                     minOccurs="0" maxOccurs="unbounded"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  a description of a table column.
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="foreignKey" type="vs:ForeignKey"
                     minOccurs="0" maxOccurs="unbounded" &gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  a description of a foreign keys, one or more columns
                  from the current table that can be used to join with 
                  another table.  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

      &lt;/xs:sequence&gt;

      &lt;xs:attribute name="type" type="xs:string"&gt;
         &lt;xs:annotation&gt;
            &lt;xs:documentation&gt;
               a name for the role this table plays.  Recognized
               values include "output", indicating this table is output 
               from a query; "base_table", indicating a table
               whose records represent the main subjects of its
               schema; and "view", indicating that the table represents
               a useful combination or subset of other tables.  Other 
               values are allowed.  
            &lt;/xs:documentation&gt;
         &lt;/xs:annotation&gt;
      &lt;/xs:attribute&gt;

      &lt;xs:anyAttribute namespace="##other" /&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="BaseParam"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            a description of a parameter that places no restriction on 
            the parameter's data type.
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
            As the parameter's data type is usually important, schemas
            normally employ a sub-class of this type (e.g. Param),
            rather than this type directly.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:sequence&gt;
         &lt;xs:element name="name" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  the name of the column
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="description" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  a free-text description of the column's contents
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="unit" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  the unit associated with all values in the column
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="ucd" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  the name of a unified content descriptor that
                  describes the scientific content of the parameter.  
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  There are no requirements for compliance with any 
                  particular UCD standard.  The format of the UCD can
                  be used to distinguish between UCD1, UCD1+, and
                  SIA-UCD.  See 
                  http://www.ivoa.net/Documents/latest/UCDlist.html
                  for the latest IVOA standard set.  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="utype" type="xs:token" minOccurs="0"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  an identifier for a concept in a data model that
                  the data in this schema represent.  
               &lt;/xs:documentation&gt;
               &lt;xs:documentation&gt;
                  The format defined in the VOTable standard is highly
                  recommended. 
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

      &lt;/xs:sequence&gt;

      &lt;xs:anyAttribute namespace="##other" /&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="TableParam"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            a description of a table parameter having a fixed data type.
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
            The allowed data type names match those supported by VOTable.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vs:BaseParam"&gt;
            &lt;xs:sequence&gt;
               &lt;xs:element name="dataType" type="vs:TableDataType" 
                           minOccurs="0"&gt;
                  &lt;xs:annotation&gt;
                     &lt;xs:documentation&gt;
                        a type of data contained in the column
                     &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;
               &lt;/xs:element&gt;

               &lt;xs:element name="flag" type="xs:token" 
                           minOccurs="0" maxOccurs="unbounded"&gt;
                  &lt;xs:annotation&gt;
                     &lt;xs:documentation&gt;
                        a keyword representing traits of the column.  
                        Recognized values include "indexed", "primary", and
                        "nullable".  
                     &lt;/xs:documentation&gt;
                     &lt;xs:documentation&gt;
                        See the specification document for definitions 
                        of recognized keywords.
                     &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;
               &lt;/xs:element&gt;
            &lt;/xs:sequence&gt;

            &lt;xs:attribute name="std" type="xs:boolean"&gt;
               &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;
                     If true, the meaning and use of this parameter is
                     reserved and defined by a standard model.  If false, 
                     it represents a database-specific parameter 
                     that effectively extends beyond the standard.  If
                     not provided, then the value is unknown.
                  &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="InputParam"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            a description of a service or function parameter having a
            fixed data type. 
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
            The allowed data type names do not imply a size or precise
            format.  This type is intended to be sufficient for describing
            an input parameter to a simple REST service or a function 
            written in a weakly-typed (e.g., scripting) language.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vs:BaseParam"&gt;
            &lt;xs:sequence&gt;
               &lt;xs:element name="dataType" type="vs:SimpleDataType" 
                           minOccurs="0"&gt;
                  &lt;xs:annotation&gt;
                     &lt;xs:documentation&gt;
                        a type of data contained in the column
                     &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;
               &lt;/xs:element&gt;
            &lt;/xs:sequence&gt;

            &lt;xs:attribute name="use" type="vs:ParamUse" default="optional"&gt;
               &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;
                     An indication of whether this parameter is
                     required to be provided for the application
                     or service to work properly.  
                  &lt;/xs:documentation&gt;
                  &lt;xs:documentation&gt;
                     Allowed values are "required" and "optional".
                  &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;

            &lt;xs:attribute name="std" type="xs:boolean" default="true"&gt;
               &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;
                     If true, the meaning and behavior of this parameter is
                     reserved and defined by a standard interface.  If
                     false, it represents an implementation-specific
                     parameter that effectively extends the behavior of the 
                     service or application.  
                  &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;

         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:simpleType name="ParamUse"&gt;
      &lt;xs:restriction base="xs:string"&gt;
         &lt;xs:enumeration value="required"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  the parameter is required for the application or
                  service to work properly.  
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="optional"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  the parameter is optional but supported by the application or
                  service.
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
         &lt;xs:enumeration value="ignored"&gt;
            &lt;xs:annotation&gt;
               &lt;xs:documentation&gt;
                  the parameter is not supported and thus is ignored by the 
                  application or service.
               &lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
         &lt;/xs:enumeration&gt;
      &lt;/xs:restriction&gt;
   &lt;/xs:simpleType&gt;

   &lt;xs:complexType name="DataType"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            a type (in the computer language sense) associated with a 
            parameter with an arbitrary name
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
            This XML type is used as a parent for defining data types
            with a restricted set of names.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;
      &lt;xs:simpleContent&gt;
        &lt;xs:extension base="xs:token"&gt;
            &lt;xs:attribute name="arraysize" type="vs:ArrayShape" default="1"&gt;
               &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;
                     the shape of the array that constitutes the value
                  &lt;/xs:documentation&gt;
                  &lt;xs:documentation&gt;
                     the default is "1"; i.e. the value is a scalar.
                  &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;

            &lt;xs:attribute name="delim" type="xs:string" default=" "&gt;
               &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;
                     the string that is used to delimit elements of an array
                     value when arraysize is not "1".
                  &lt;/xs:documentation&gt;
                  &lt;xs:documentation&gt;
                     Unless specifically disallowed by the context, 
                     applications should allow optional spaces to 
                     appear in an actual data value before and after 
                     the delimiter (e.g. "1, 5" when delim=",").
                  &lt;/xs:documentation&gt;
                  &lt;xs:documentation&gt;
                     the default is " "; i.e. the values are delimited 
                     by spaces.  
                  &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;

            &lt;xs:attribute name="extendedType" type="xs:string"&gt;
               &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;
                     The data value represented by this type can be
                     interpreted as of a custom type identified by 
                     the value of this attribute.
                  &lt;/xs:documentation&gt;
                  &lt;xs:documentation&gt;
                     If an application does not recognize this
                     extendedType, it should attempt to handle value
                     assuming the type given by the element's value.
                     string is a recommended default type.
                  &lt;/xs:documentation&gt;
                  &lt;xs:documentation&gt;
                     This element may make use of the extendedSchema
                     attribute and/or any arbitrary (qualified)
                     attribute to refine the identification of the 
                     type.
                  &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;

            &lt;xs:attribute name="extendedSchema" type="xs:anyURI"&gt;
               &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;
                     An identifier for the schema that the value given
                     by the extended attribute is drawn from.
                  &lt;/xs:documentation&gt;
                  &lt;xs:documentation&gt;
                     This attribute is normally ignored if the
                     extendedType attribute is not present.
                  &lt;/xs:documentation&gt;
               &lt;/xs:annotation&gt;
            &lt;/xs:attribute&gt;

            &lt;xs:anyAttribute namespace="##other" /&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;

   &lt;!--
     -  this definition is taken from the VOTable arrayDEF type
     --&gt;
   &lt;xs:simpleType  name="ArrayShape"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            An expression of a the shape of a multi-dimensional array
            of the form LxNxM... where each value between gives the
            integer length of the array along a dimension.  An
            asterisk (*) as the last dimension of the shape indicates 
            that the length of the last axis is variable or
            undetermined. 
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

     &lt;xs:restriction base="xs:token"&gt;
       &lt;xs:pattern  value="([0-9]+x)*[0-9]*[*]?"/&gt;
     &lt;/xs:restriction&gt;
   &lt;/xs:simpleType&gt;

   &lt;xs:complexType name="SimpleDataType"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            a data type restricted to a small set of names which is 
            imprecise as to the format of the individual values.
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
            This set is intended for describing simple input parameters to 
            a service or function.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;
      &lt;xs:simpleContent&gt;
        &lt;xs:restriction base="vs:DataType"&gt;
           &lt;xs:enumeration value="integer"/&gt;
           &lt;xs:enumeration value="real"/&gt;
           &lt;xs:enumeration value="complex"/&gt;
           &lt;xs:enumeration value="boolean"/&gt;
           &lt;xs:enumeration value="char"/&gt;
           &lt;xs:enumeration value="string"/&gt;

           &lt;xs:attribute name="arraysize" type="vs:ArrayShape" default="1"/&gt;
           &lt;xs:attribute name="delim" type="xs:string" default=" "/&gt;
           &lt;xs:attribute name="extendedType" type="xs:string"/&gt;
           &lt;xs:attribute name="extendedSchema" type="xs:anyURI"/&gt;
           &lt;xs:anyAttribute namespace="##other" /&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="TableDataType" abstract="true"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            an abstract parent for a class of data types that can be
            used to specify the data type of a table column.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;
      &lt;xs:simpleContent&gt;
        &lt;xs:extension base="vs:DataType"/&gt;
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="VOTable"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            a data type supported explicitly by the VOTable format
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;
      &lt;xs:simpleContent&gt;
         &lt;xs:restriction base="vs:TableDataType"&gt;
           &lt;xs:enumeration value="boolean"/&gt;
           &lt;xs:enumeration value="bit"/&gt;
           &lt;xs:enumeration value="unsignedByte"/&gt;
           &lt;xs:enumeration value="short"/&gt;
           &lt;xs:enumeration value="int"/&gt;
           &lt;xs:enumeration value="long"/&gt;
           &lt;xs:enumeration value="char"/&gt;
           &lt;xs:enumeration value="unicodeChar"/&gt;
           &lt;xs:enumeration value="float"/&gt;
           &lt;xs:enumeration value="double"/&gt;
           &lt;xs:enumeration value="floatComplex"/&gt;
           &lt;xs:enumeration value="doubleComplex"/&gt;

           &lt;xs:attribute name="arraysize" type="vs:ArrayShape" default="1"/&gt;
           &lt;xs:attribute name="delim" type="xs:string" default=" "/&gt;
           &lt;xs:attribute name="extendedType" type="xs:string"/&gt;
           &lt;xs:attribute name="extendedSchema" type="xs:anyURI"/&gt;
           &lt;xs:anyAttribute namespace="##other" /&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="TAPDataType" abstract="true"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            an abstract parent for the specific data types supported 
            by the Table Access Protocol.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;
      &lt;xs:simpleContent&gt;
         &lt;xs:extension base="vs:TableDataType"&gt;
           &lt;xs:attribute name="size" type="xs:positiveInteger"&gt;
              &lt;xs:annotation&gt;
                 &lt;xs:documentation&gt;
                    the length of the fixed-length value
                 &lt;/xs:documentation&gt;
                 &lt;xs:documentation&gt;
                    This corresponds to the size Column attribute in
                    the TAP_SCHEMA and can be used with data types
                    that are defined with a length (CHAR, BINARY).  
                 &lt;/xs:documentation&gt;
              &lt;/xs:annotation&gt;
           &lt;/xs:attribute&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="TAP"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
            a data type supported explicitly by the Table Access 
            Protocol (v1.0).  
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;
      &lt;xs:simpleContent&gt;
         &lt;xs:restriction base="vs:TAPDataType"&gt;
           &lt;xs:enumeration value="BOOLEAN"/&gt;
           &lt;xs:enumeration value="SMALLINT"/&gt;
           &lt;xs:enumeration value="INTEGER"/&gt;
           &lt;xs:enumeration value="BIGINT"/&gt;
           &lt;xs:enumeration value="REAL"/&gt;
           &lt;xs:enumeration value="DOUBLE"/&gt;
           &lt;xs:enumeration value="TIMESTAMP"/&gt;
           &lt;xs:enumeration value="CHAR"/&gt;
           &lt;xs:enumeration value="VARCHAR"/&gt;
           &lt;xs:enumeration value="BINARY"/&gt;
           &lt;xs:enumeration value="VARBINARY"/&gt;
           &lt;xs:enumeration value="POINT"/&gt;
           &lt;xs:enumeration value="REGION"/&gt;
           &lt;xs:enumeration value="CLOB"/&gt;
           &lt;xs:enumeration value="BLOB"/&gt;

           &lt;xs:attribute name="arraysize" type="vs:ArrayShape" default="1"/&gt;
           &lt;xs:attribute name="delim" type="xs:string" default=" "/&gt;
           &lt;xs:attribute name="extendedType" type="xs:string"/&gt;
           &lt;xs:attribute name="extendedSchema" type="xs:anyURI"/&gt;
           &lt;xs:attribute name="size" type="xs:positiveInteger"/&gt;
           &lt;xs:anyAttribute namespace="##other" /&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="StandardSTC"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           a description of standard space-time coordinate systems,
           positions, and regions.
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
           This resource provides a mechanism for registering standard 
           coordinate systems which other resources may reference as
           part of a coverage descripiton.  In particular, coverage
           descriptions will refer to components of the STC
           descriptions in this resource via an IVOA identifier.  It
           is intended that an application consuming such coverage
           descriptions be able to semantically interpret the
           identifier without resolving it.  For this reason, once a
           standard STC description is registered with this resource 
           type, updating the description is strongly discouraged.  
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:complexContent&gt;
         &lt;xs:extension base="vr:Resource"&gt;
            &lt;xs:sequence&gt;
               
               &lt;xs:element name="stcDefinitions" 
                           type="stc:stcDescriptionType"
                           minOccurs="1" maxOccurs="unbounded"&gt;
                  &lt;xs:annotation&gt;
                     &lt;xs:documentation&gt;
                       An STC description of coordinate systems,
                       positions, and/or regions
                     &lt;/xs:documentation&gt;
                     &lt;xs:documentation&gt;
                       Each system, position, and region description
                       should have a an XML ID assigned to it.
                     &lt;/xs:documentation&gt;
                     &lt;xs:documentation&gt;
                       Because the STC schema sets 
                       elementFormDefault="qualified", it is
                       recommended that this element specify the STC 
                       default namespace via an xmlns namespace.
                     &lt;/xs:documentation&gt;
                  &lt;/xs:annotation&gt;
               &lt;/xs:element&gt;

            &lt;/xs:sequence&gt;
         &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="ForeignKey"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           A description of the mapping a foreign key--a set of 
           columns from one table--to columns in another table.  
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
           This definition that the foreign key is being described 
           within the context of the table containing the key.  
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:sequence&gt;

         &lt;xs:element name="targetTable" type="xs:token"&gt;
           &lt;xs:annotation&gt;
             &lt;xs:documentation&gt;
               the fully-qualified name (including catalog and schema, as
               applicable) of the table that can be joined with the 
               table containing this foreign key.
             &lt;/xs:documentation&gt;
           &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="fkColumn" type="vs:FKColumn" 
                     minOccurs="1" maxOccurs="unbounded"&gt;
           &lt;xs:annotation&gt;
             &lt;xs:documentation&gt;
               a pair of column names, one from this table and one
               from the target table that should be used to join the
               tables in a query.  
             &lt;/xs:documentation&gt;
           &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

      &lt;/xs:sequence&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="FKColumn"&gt;
      &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
           A pair of columns that are used to join two tables.  
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
           To do an inner join of data from the two tables, a query should 
           include a constraint that sets the value from the first column equal
           to the value in the second column.
         &lt;/xs:documentation&gt;
         &lt;xs:documentation&gt;
           This type assumes that it is used in the context of 
           implied source (i.e., current) and target tables, as in
           the ForeignKey type's fkColumn.
         &lt;/xs:documentation&gt;
      &lt;/xs:annotation&gt;

      &lt;xs:sequence&gt;
         &lt;xs:element name="fromColumn" type="xs:token"&gt;
           &lt;xs:annotation&gt;
             &lt;xs:documentation&gt;
               The unqualified name of the column from the current table.
             &lt;/xs:documentation&gt;
           &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

         &lt;xs:element name="targetColumn" type="xs:token"&gt;
           &lt;xs:annotation&gt;
             &lt;xs:documentation&gt;
               The unqualified name of the column from the target table.
             &lt;/xs:documentation&gt;
           &lt;/xs:annotation&gt;
         &lt;/xs:element&gt;

      &lt;/xs:sequence&gt;
   &lt;/xs:complexType&gt;

&lt;/xs:schema&gt;
</a></pre>
</div></div>

<a name="appB">
<h2>Appendix B: Compatibility Issues with VODataService 1.0</h2></a>

The working draft version 1.0 of the VODataService schema has been in
use in IVOA registries since about 2008.  It is expected that
registries will migrate over to version 1.1 gradually and during the
transition, there may well be instances of both v1.1 and v1.0 in the
same registry.  While the metadata structures are the mostly the same
(particularly the core VOResource metadata), it is worth enumerating
where they are different as this can affect how queries against
differing metadata are formed.

<ul>
  <li> In v1.1, <code>&lt;schema&gt;</code> replaces v1.0's
       <code>&lt;catalog&gt;</code>. </li>

  <li> In v1.0, the root element of a table description in a
       <code>vs:DataCollection</code> was
       <code>&lt;catalog&gt;</code>.  Consequently, a
       <code>&lt;table&gt;</code> element in a v1.1 record is one
       level lower than in v1.0.  </li>

  <li> In v1.0, the root element of a table description in a
       <code>vs:CatalogService</code> was
       <code>&lt;table&gt;</code>.  Consequently, a
       <code>&lt;table&gt;</code> element in a v1.1 record is one
       level lower than in v1.0.  </li>

  <li> Version 1.1's <code>vs:Coverage</code> type now
       contains a <code>&lt;regionOfRegard&gt;</code> element.  In
       v1.0, this metadatum was only available via
       <code>coverage/stc:STCResourceProfile/stc:AstroCoord/stc:Size</code>.
       </li>

  <li> Version 1.1's <code>vs:TableParam</code> (for describing table
       columns) adds <code>&lt;utype&gt;</code> and
       <code>&lt;flag&gt;</code> elements.  The v1.1
       <code>vs:InputParam</code> adds a <code>&lt;utype&gt;</code>
       element. </li>
       
</ul>


<a name="appC">
<h2>Appendix C:  Change History</h2></a>

<em>None yet applicable.</em>

<h2><a id="References">References</a></h2>

<dl>
  <dt> <a name="should">[RFC 2119]</a> </dt>
  <dd> Bradner, S. 1997. <cite><a href="http://www.ietf.org/rfc/rfc2119.txt">
       Key words for use in RFCs to Indicate Requirement
       Levels</a></cite>, IETF RFC 2119,
       <code>http://www.ietf.org/rfc/rfc2119.txt</code> </dd>

  <dt> <a name="RM">[RM]</a>
  </dt><dd> Hanisch, Robert (ed.) 2004.
       <cite><a href="http://www.ivoa.net/Documents/REC/ResMetadata/RM-20070302.html">
       Resource Metadata for the Virtual Observatory, Version 1.12</a></cite>,
       IVOA Recommendation,
     <code>http://www.ivoa.net/Documents/REC/ResMetadata/RM-20040426.htm</code>

  <dt> <a name="RI">[RI]</a> </dt>
  <dd> Benson, Kevin, Plante, Ray, Auden, Elizabeth, Graham, Matthew, Greene,
       Gretchen, Hill, Martin, Linde, Tony, Morris, Dave, O'Mullane,
       Wil, Rixon, Guy, Andrews, Kona 2008, <cite>
       <a href="http://www.ivoa.net/Documents/latest/ResourceInterface.html">
       IVOA Registry Interfaces</a></cite>, v1.02, IVOA
       Recommendation,
       <code>http://www.ivoa.net/Documents/latest/ResourceInterface.html</code>
       </dd>
       
  </dd><dt> <a name="schema">[schema]</a>
  </dt><dd> Fallside, David C., Walmsley, Priscilla (editors) 2004,
       <cite><a href="http://www.w3.org/TR/xmlschema-0/">XML Schema
       Part 0: Primer Second Edition</a></cite>, W3C Recommendation 28
       October 2004, <code>http://www.w3.org/TR/xmlschema-0/</code>

  </dd><dt> <a name="sia">[SIA]</a>
  </dt><dd> Tody, Doug and Plante, Ray 1997, <cite>
       <a href="http://www.ivoa.net/Documents/WD/SIA/sia-20040524.html">
       Simple Image Access Specification Version 1.0</a></cite>, IVOA
       Working Draft, 
       <code>http://www.ivoa.net/Documents/WD/SIA/sia-20040524.html</code>.

  <dt> <a name="STC">[STC]</a> </dt>
  <dd> Rots, Arnold 2007, <cite>
       <a href="http://www.ivoa.net/Documents/REC/STC/STC-20071030.html">
       Space-Time Coordinate Metadata for the Virtual Observatory</a></cite>,
       v1.33, IVOA Recommendation,
       <code>href="http://www.ivoa.net/Documents/REC/STC/STC-20071030.html"></code>
  <dt> <a name="SQLGuide">[SQLGuide]</a> </dt>
  <dd> Date, C.J. and Darwin, Hugh 1997, <code>A Guide to the SQL
       Standard</code>, Fourth Edition, (Addison-Wesley, Longman Inc.:
       Reading), p 24. </dd>
       
  <dt> <a name="UCD">[UCD]</a> </dt>
  <dd> Martinez, A.P., Derriere, S., Delmotte, N., Gray, N., Mann, R.,
       McGlynn, T., Ochsenbein, F., Osuna, P., Rixon, G., Williams, R.
       2007, <cite>
       <a href="http://www.ivoa.net/Documents/latest/UCDlist.html">
       The UCD1+ Controlled Vocabulary</a></cite>,
       v1.23, IVOA Recommendation,
       <code>http://www.ivoa.net/Documents/latest/UCDlist.html</code>
       </dd>

  <dt> <a name="VOR">[VOR]</a> </dt>
  <dd> Plante, R., Benson, K., Graham, M., Greene,
       G., Harrison, P., Lemson, G., Linde, T., Rixon,
       G., St&eacute;b&eacute;, A. 2008, <cite>
       <a href="http://www.ivoa.net/Documents/REC/ReR/VOResource-20080222.html">
       VOResource: an XML Encoding Schema for Resource Metadata</a></cite>,
       v1.03, IVOA Recommendation,
       <code>http://www.ivoa.net/Documents/REC/ReR/VOResource-20080222.html</code>
       </dd>

  </dd><dt> <a name="VOTable">[VOTable]</a>
  </dt><dd>  Ochsenbein, F., Williams, R., Davenhall, C., Durand, D.,
       Fernique, P., Giaretta, D., Hanisch, R., McGlynn, T., Szalay, A.,
       Taylor, M.B., Wicenec, A. 2008, <cite>
       <a href="http://www.ivoa.net/Documents/WD/VOTable/VOTable-20080914.html">
       VOTable Format Definition</a>, version 1.20, IVOA Working Draft,
       <code>http://www.ivoa.net/Documents/WD/VOTable/VOTable-20080914.html</code>

  </dd><dt> <a name="xml">[xml]</a>
  </dt><dd> Bray, Tim, Paoli, Jean, Sperberg-McQueen, C. M., Maler, Eve,
       Yergeau, Francois (editors) 2004,
       <cite><a href="http://www.w3.org/TR/REC-xml">Extensible Markup
       Language (XML) 1.0 (Third Edition)</a></cite>, W3C
       Recommendation 04 February 2004,
       <code>http://www.w3.org/TR/REC-xml</code>


</dl>

</body>
</html>

